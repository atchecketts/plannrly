# Feature 3.4: Timesheet Views

**Status:** Pending
**Effort:** Medium
**Phase:** 3 - Time & Attendance

## Overview

View and manage timesheets with scheduled vs actual comparison. This feature provides comprehensive views for both employees and managers to review time entries, compare scheduled versus actual hours, and approve timesheets when required.

## Requirements

### Functional Requirements
- Weekly/bi-weekly timesheet views
- Side-by-side scheduled vs actual times
- Variance highlighting (late, early, overtime)
- Total hours summary
- Filter by employee, department, date range
- Manager approval workflow if enabled
- Separate views for admin and employee

### Views
- Admin index view (all employees)
- Employee view (own entries only)
- Weekly summary view with totals

## Files

### To Create
- `app/Http/Controllers/TimesheetController.php`
- `resources/views/timesheets/index.blade.php` (admin view)
- `resources/views/timesheets/employee.blade.php` (employee view)
- `resources/views/timesheets/weekly.blade.php` (weekly summary)
- `tests/Feature/TimesheetTest.php`

## Tasks

- [ ] Create TimesheetController
- [ ] Create admin timesheet index (all employees)
- [ ] Create employee timesheet view (own entries)
- [ ] Create weekly summary view with totals
- [ ] Add date range picker
- [ ] Show scheduled shift times alongside actual
- [ ] Calculate and display variances
- [ ] Add approval buttons for managers
- [ ] Add navigation to sidebar
- [ ] Write tests

## Timesheet Data Display

| Column | Description |
|--------|-------------|
| Date | Date of the shift |
| Employee | Employee name (admin view only) |
| Scheduled Start | Shift scheduled start time |
| Actual Start | Clock-in time |
| Scheduled End | Shift scheduled end time |
| Actual End | Clock-out time |
| Scheduled Hours | Total scheduled hours |
| Actual Hours | Total worked hours |
| Variance | Difference with color coding |
| Breaks | Total break time |
| Status | Pending/Approved/Rejected |

## Dependencies

- TimeEntry model with variance accessors
- Shift model
- User model
- TenantSettings for approval requirements
- Feature 3.3 (Scheduled vs Actual Time Variance)
