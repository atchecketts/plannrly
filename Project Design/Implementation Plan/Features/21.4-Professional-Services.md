# Feature 21.4: Professional Services

**Status:** Not Started
**Effort:** Small
**Phase:** 21 - Business Model

## Overview

Document and enable professional service offerings including migration assistance, training sessions, and custom implementation support. This provides an additional revenue stream while ensuring enterprise customers receive the support they need.

## Requirements

### Service Offerings
- **Migration Assistance** - Help moving from competitor systems
- **Training Sessions** - Live training for admins and employees
- **Custom Implementation** - Tailored setup and configuration
- **API Integration Support** - Help with custom integrations
- **Dedicated Onboarding** - White-glove setup service

### Functional Requirements
- Services page listing all offerings
- Request forms for each service type
- Inquiry routing to sales team
- Service request tracking in admin panel
- Quote generation capability
- Status updates to requesters

## Files

### To Create
- `app/Models/ServiceRequest.php`
- `app/Http/Controllers/ProfessionalServicesController.php`
- `app/Http/Requests/ServiceRequest/MigrationAssistanceRequest.php`
- `app/Http/Requests/ServiceRequest/TrainingSessionRequest.php`
- `app/Notifications/ServiceRequestReceivedNotification.php`
- `app/Notifications/ServiceRequestStatusNotification.php`
- `resources/views/services/index.blade.php`
- `resources/views/services/migration.blade.php`
- `resources/views/services/training.blade.php`
- `resources/views/services/request-form.blade.php`
- `resources/views/services/confirmation.blade.php`
- `resources/views/admin/service-requests/index.blade.php`
- `resources/views/admin/service-requests/show.blade.php`
- `database/migrations/xxxx_create_service_requests_table.php`
- `tests/Feature/ProfessionalServicesTest.php`

### Routes
```php
// Public services pages
Route::prefix('services')->name('services.')->group(function () {
    Route::get('/', [ProfessionalServicesController::class, 'index'])->name('index');
    Route::get('migration-assistance', [ProfessionalServicesController::class, 'migration'])->name('migration');
    Route::get('training', [ProfessionalServicesController::class, 'training'])->name('training');
    Route::post('request', [ProfessionalServicesController::class, 'submitRequest'])->name('request');
    Route::get('confirmation/{serviceRequest}', [ProfessionalServicesController::class, 'confirmation'])->name('confirmation');
});

// Admin service request management
Route::prefix('admin/service-requests')->name('admin.service-requests.')->group(function () {
    Route::get('/', [AdminServiceRequestController::class, 'index'])->name('index');
    Route::get('{serviceRequest}', [AdminServiceRequestController::class, 'show'])->name('show');
    Route::put('{serviceRequest}/status', [AdminServiceRequestController::class, 'updateStatus'])->name('update-status');
    Route::post('{serviceRequest}/quote', [AdminServiceRequestController::class, 'sendQuote'])->name('send-quote');
});
```

## Database Schema

### service_requests
| Column | Type | Description |
|--------|------|-------------|
| id | bigint | Primary key |
| tenant_id | bigint | Nullable - may be from non-customer |
| type | string | migration, training, implementation, api, onboarding |
| company_name | string | Requesting company |
| contact_name | string | Primary contact |
| contact_email | string | Contact email |
| contact_phone | string | Contact phone |
| details | text | Request description |
| metadata | json | Type-specific data |
| status | string | new, contacted, quoted, scheduled, completed, cancelled |
| priority | string | normal, high, urgent |
| assigned_to | string | Sales rep email |
| quoted_amount | decimal | Quote provided |
| notes | text | Internal notes |
| contacted_at | timestamp | First contact made |
| scheduled_at | timestamp | Service scheduled for |
| completed_at | timestamp | Service completed |
| created_at | timestamp | |
| updated_at | timestamp | |

## Service Details

### Migration Assistance
- Form fields: Current system, employee count, timeline
- Pricing: Starting at $500 (depends on complexity)
- Deliverables: Data migration, validation, testing

### Training Sessions
- Form fields: Audience, topics, preferred dates, format
- Pricing: $200/hour (discounts for packages)
- Formats: Live video, on-site, recorded

### Custom Implementation
- Form fields: Requirements, integrations needed, timeline
- Pricing: Custom quote based on scope
- Deliverables: Configured system, documentation

### API Integration Support
- Form fields: Integration type, systems, requirements
- Pricing: $150/hour
- Deliverables: Working integration, documentation

### Dedicated Onboarding
- Form fields: Company size, complexity, timeline
- Pricing: Starting at $1,000
- Deliverables: Full setup, training, go-live support

## Tasks

- [ ] Create service_requests migration
- [ ] Create ServiceRequest model
- [ ] Create ProfessionalServicesController
- [ ] Create services landing page
- [ ] Create "Request Migration Assistance" form
- [ ] Create "Request Training Session" form
- [ ] Create generic service request form
- [ ] Create confirmation page
- [ ] Create ServiceRequestReceivedNotification
- [ ] Route inquiries to sales team email
- [ ] Create admin service requests index
- [ ] Create admin service request detail view
- [ ] Implement status update workflow
- [ ] Create ServiceRequestStatusNotification
- [ ] Track service requests in admin panel
- [ ] Write comprehensive tests

## Tests

Planned tests for `tests/Feature/ProfessionalServicesTest.php`:

1. `test_can_view_services_page`
2. `test_can_view_migration_assistance_page`
3. `test_can_view_training_page`
4. `test_can_submit_migration_request`
5. `test_can_submit_training_request`
6. `test_service_request_requires_contact_info`
7. `test_service_request_sends_notification`
8. `test_confirmation_page_shows_details`
9. `test_admin_can_view_service_requests`
10. `test_admin_can_update_request_status`
11. `test_status_update_notifies_requester`
12. `test_admin_can_add_notes`

## Dependencies

- Notification system
- Admin panel
- Email system for routing
