# Feature 13.2: Subscription Reports

**Status:** Not Started
**Effort:** Medium
**Phase:** 13 - SuperAdmin Analytics Dashboard

## Overview

Subscription counts and status tracking for SuperAdmin analytics. This provides visibility into subscription health, plan distribution, and trial conversion performance.

## Requirements

### Functional Requirements
- Display total active subscriptions count
- Show subscription breakdown by plan tier
- Show subscription status distribution (active, past_due, cancelled)
- Track subscriptions currently in trial
- Calculate and display trial-to-paid conversions

### Metrics to Display
| Metric | Description |
|--------|-------------|
| Total Active | Active subscriptions |
| By Plan | Breakdown by tier |
| By Status | Active, past_due, cancelled |
| Trial | Currently in trial |
| Conversions | Trial to paid this period |

### UI Components
- Subscription count summary cards
- Subscriptions by plan chart
- Subscription status breakdown chart
- Trial conversion funnel
- Subscription list with filters and search

## Files

### To Create
- `resources/views/super-admin/analytics/subscriptions.blade.php` - Subscriptions view
- `tests/Feature/SuperAdmin/SubscriptionReportsTest.php` - Feature tests

### Routes
```php
Route::prefix('super-admin')->group(function () {
    Route::get('analytics/subscriptions', [AnalyticsController::class, 'subscriptions'])->name('super-admin.analytics.subscriptions');
});
```

## Tasks

- [ ] Create subscription counts queries in SuperAdminAnalyticsService
- [ ] Create subscriptions by plan chart
- [ ] Create subscription status breakdown
- [ ] Add trial conversion tracking
- [ ] Create subscription list with filters
- [ ] Write tests

## Tests

Suggested tests for `tests/Feature/SuperAdmin/SubscriptionReportsTest.php`:

1. `test_super_admin_can_view_subscription_reports`
2. `test_total_active_subscription_count_is_accurate`
3. `test_subscription_breakdown_by_plan_is_correct`
4. `test_subscription_status_breakdown_is_correct`
5. `test_trial_subscriptions_are_tracked`
6. `test_trial_conversion_rate_is_calculated`
7. `test_subscription_list_is_filterable`

## Dependencies

- SuperAdminAnalyticsService (from 13.1)
- Subscription model with status and plan relationships
- Tenant model
- Plan model
