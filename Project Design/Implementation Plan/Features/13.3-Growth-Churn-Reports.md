# Feature 13.3: Growth & Churn Reports

**Status:** Not Started
**Effort:** Medium
**Phase:** 13 - SuperAdmin Analytics Dashboard

## Overview

Track growth trends and churn metrics for SuperAdmin analytics. This enables understanding of business health through new signups, upgrades, downgrades, reactivations, and customer churn.

## Requirements

### Functional Requirements
- Track new subscription signups
- Track plan upgrades and downgrades
- Track subscription reactivations
- Calculate net growth (new + reactivated - churned)
- Calculate monthly churn rate
- Track churned subscriptions count
- Calculate churned MRR (lost revenue)
- Track churn reasons if collected
- Calculate revenue retention rate

### Growth Metrics
- New subscriptions
- Upgrades / Downgrades
- Reactivations
- Net growth

### Churn Metrics
- Churn rate (monthly)
- Churned subscriptions
- Churned MRR
- Churn reasons (if collected)
- Revenue retention

### UI Components
- Growth trends chart over time
- Churn rate chart
- Period comparison (this month vs last month)
- Churn reasons breakdown (if available)
- Net growth indicator

## Files

### To Create
- `resources/views/super-admin/analytics/growth.blade.php` - Growth metrics view
- `resources/views/super-admin/analytics/churn.blade.php` - Churn analysis view
- `tests/Feature/SuperAdmin/GrowthChurnReportsTest.php` - Feature tests

### Routes
```php
Route::prefix('super-admin')->group(function () {
    Route::get('analytics/growth', [AnalyticsController::class, 'growth'])->name('super-admin.analytics.growth');
    Route::get('analytics/churn', [AnalyticsController::class, 'churn'])->name('super-admin.analytics.churn');
});
```

## Tasks

- [ ] Implement growth metrics calculation in SuperAdminAnalyticsService
- [ ] Implement churn rate calculation
- [ ] Create growth trends chart
- [ ] Create churn analysis view
- [ ] Add comparison to previous period
- [ ] Write tests

## Tests

Suggested tests for `tests/Feature/SuperAdmin/GrowthChurnReportsTest.php`:

1. `test_super_admin_can_view_growth_reports`
2. `test_new_subscriptions_count_is_accurate`
3. `test_upgrades_and_downgrades_are_tracked`
4. `test_net_growth_calculation_is_correct`
5. `test_churn_rate_calculation_is_accurate`
6. `test_churned_mrr_is_calculated`
7. `test_period_comparison_shows_correct_data`
8. `test_revenue_retention_is_calculated`

## Dependencies

- SuperAdminAnalyticsService (from 13.1)
- Subscription model with status history
- SubscriptionHistory or Activity log for tracking changes
- Tenant model
