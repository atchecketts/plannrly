# UAT: Feature 26.2 - Global Search

## Test Environment Setup

**Prerequisites:**
- Admin user with access to all content
- Employee user with limited access
- Sample data: employees, shifts, messages, documents
- Multiple tenants for isolation testing
- Search index populated with test data

**Test URL:** Search accessible via Cmd+K or search icon

---

## Test Cases

### TC-26.2.1: Open Global Search (Keyboard Shortcut)

**Steps:**
1. Log in as any user
2. Press Cmd+K (Mac) or Ctrl+K (Windows)

**Expected Results:**
- [ ] Search modal opens immediately
- [ ] Search input is focused
- [ ] Modal has clean, centered design
- [ ] Placeholder text guides user

---

### TC-26.2.2: Open Global Search (Click)

**Steps:**
1. Log in as any user
2. Find and click the search icon in the header/navbar

**Expected Results:**
- [ ] Search modal opens
- [ ] Search input is focused
- [ ] Same experience as keyboard shortcut

---

### TC-26.2.3: Search for Employee by Name

**Steps:**
1. Open global search
2. Type an employee's first name
3. Observe results as you type

**Expected Results:**
- [ ] Results appear while typing (debounced)
- [ ] Matching employees are displayed
- [ ] Shows employee name and email
- [ ] Shows department if available
- [ ] Result is clickable

---

### TC-26.2.4: Search for Employee by Email

**Steps:**
1. Open global search
2. Type part of an employee's email address
3. Observe results

**Expected Results:**
- [ ] Employee matching the email appears
- [ ] Email is highlighted in results
- [ ] Can click to navigate to employee

---

### TC-26.2.5: Search for Shifts

**Steps:**
1. Open global search
2. Search for a location name or shift description
3. Observe results

**Expected Results:**
- [ ] Matching shifts appear in results
- [ ] Shows shift date and time
- [ ] Shows location
- [ ] Shows assigned employee if any
- [ ] Result is clickable

---

### TC-26.2.6: Search for Messages

**Steps:**
1. Open global search
2. Search for a keyword that exists in messages
3. Observe results

**Expected Results:**
- [ ] Matching messages appear
- [ ] Shows message preview/snippet
- [ ] Shows sender name
- [ ] Shows date
- [ ] Result navigates to message

---

### TC-26.2.7: Search for Documents

**Steps:**
1. Open global search
2. Search for a document title or content keyword
3. Observe results

**Expected Results:**
- [ ] Matching documents appear
- [ ] Shows document title
- [ ] Shows file type icon
- [ ] Shows upload date
- [ ] Result opens or navigates to document

---

### TC-26.2.8: Search Results Categories

**Steps:**
1. Open global search
2. Search for a term that matches multiple content types
3. Observe result grouping

**Expected Results:**
- [ ] Results are grouped by type (Employees, Shifts, etc.)
- [ ] Each category has a clear header
- [ ] Categories show count of results
- [ ] Most relevant results appear first

---

### TC-26.2.9: Navigate Results with Keyboard

**Steps:**
1. Open global search
2. Type a search query
3. Use arrow keys to navigate results
4. Press Enter to select

**Expected Results:**
- [ ] Arrow keys move highlight between results
- [ ] Currently selected result is visually highlighted
- [ ] Enter key opens/navigates to selected result
- [ ] Escape key closes the search modal

---

### TC-26.2.10: Empty Search State

**Steps:**
1. Open global search
2. Search for a random string that matches nothing
3. Observe the result

**Expected Results:**
- [ ] Shows "No results found" message
- [ ] Suggests trying different keywords
- [ ] No errors displayed
- [ ] Can continue typing new search

---

### TC-26.2.11: Recent Searches

**Steps:**
1. Open global search
2. Perform several searches
3. Close and reopen search modal
4. Observe before typing

**Expected Results:**
- [ ] Recent searches are displayed
- [ ] Shows last 5-10 searches
- [ ] Can click to repeat a recent search
- [ ] Recent searches can be cleared

---

### TC-26.2.12: Tenant Isolation

**Steps:**
1. Log in as admin of Tenant A
2. Search for data that exists in Tenant B
3. Observe results

**Expected Results:**
- [ ] Only Tenant A data appears in results
- [ ] Tenant B data is never shown
- [ ] No cross-tenant data leakage

---

### TC-26.2.13: Employee Search Restrictions

**Steps:**
1. Log in as a regular employee (not admin)
2. Open global search
3. Search for other employee names
4. Search for confidential data

**Expected Results:**
- [ ] Employee sees limited results based on permissions
- [ ] Cannot see other employees' private data
- [ ] Can see own shifts and relevant messages
- [ ] Sensitive admin content is hidden

---

### TC-26.2.14: Search Performance

**Steps:**
1. Open global search
2. Type a common search term quickly
3. Observe response time

**Expected Results:**
- [ ] Results appear within 500ms
- [ ] No UI freezing during search
- [ ] Loading indicator shows while searching
- [ ] Typing remains responsive

---

### TC-26.2.15: Close Search Modal

**Steps:**
1. Open global search
2. Press Escape key
3. Reopen and click outside the modal
4. Reopen and click X button if present

**Expected Results:**
- [ ] Escape closes the modal
- [ ] Clicking outside closes the modal
- [ ] X button closes the modal
- [ ] Search state is cleared on close

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test search with special characters
- Test search with very long queries
