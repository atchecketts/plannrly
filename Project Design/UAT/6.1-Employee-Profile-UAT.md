# UAT: Feature 6.1 - Employee Profile (Self-Service)

## Test Environment Setup

**Prerequisites:**
- Multiple employee users with different roles
- Employees with existing profile data (phone, address, etc.)
- Employees with profile photos already uploaded
- One admin user for comparison
- Email service configured for password change notifications

**Test URL:** `/profile`

---

## Test Cases

### TC-6.1.1: View Personal Profile

**Steps:**
1. Log in as an employee
2. Click on your name/avatar in the user dropdown menu
3. Select "My Profile" or navigate to `/profile`

**Expected Results:**
- [ ] Profile page loads successfully
- [ ] Shows your personal information
- [ ] Displays name, email, phone number
- [ ] Shows profile photo (or default avatar)
- [ ] Employment details are visible (read-only)

---

### TC-6.1.2: Navigate to Profile from Menu

**Steps:**
1. Log in as an employee
2. Click on the user dropdown in the header
3. Look for profile link

**Expected Results:**
- [ ] Dropdown shows profile/account option
- [ ] Link navigates to profile page
- [ ] Link is clearly labeled

---

### TC-6.1.3: View Employment Details (Read-Only)

**Steps:**
1. Log in as an employee
2. Navigate to your profile
3. View the employment details section

**Expected Results:**
- [ ] Shows start date
- [ ] Shows business role(s)
- [ ] Shows department and location
- [ ] Fields are clearly marked as read-only
- [ ] No edit buttons for employment details
- [ ] Pay information visibility follows tenant settings

---

### TC-6.1.4: Edit Contact Information

**Steps:**
1. Log in as an employee
2. Navigate to your profile
3. Click "Edit" or "Edit Contact Information"
4. Update phone number
5. Update address
6. Click "Save"

**Expected Results:**
- [ ] Edit form opens successfully
- [ ] Current values are pre-filled
- [ ] Can modify phone number
- [ ] Can modify address fields
- [ ] Changes save successfully
- [ ] Success message is displayed
- [ ] Updated values are shown on profile

---

### TC-6.1.5: Edit Email Address

**Steps:**
1. Log in as an employee
2. Navigate to profile edit
3. Attempt to change email address
4. Save changes

**Expected Results:**
- [ ] Email field is editable (or requires verification)
- [ ] Validation ensures valid email format
- [ ] If email change requires verification, notification is shown
- [ ] Cannot use an email already in use by another user

---

### TC-6.1.6: Upload Profile Photo

**Steps:**
1. Log in as an employee
2. Navigate to your profile
3. Click on the avatar/photo area or "Change Photo"
4. Select an image file (JPG or PNG)
5. Upload the image

**Expected Results:**
- [ ] File picker opens for image selection
- [ ] Accepts JPG and PNG formats
- [ ] Shows preview before saving
- [ ] Image is uploaded successfully
- [ ] New photo appears on profile
- [ ] Photo appears in header dropdown

---

### TC-6.1.7: Profile Photo Size Validation

**Steps:**
1. Log in as an employee
2. Attempt to upload a very large image file (>5MB)
3. Attempt to upload an invalid file type (PDF, TXT)

**Expected Results:**
- [ ] Large files show size limit error
- [ ] Invalid file types are rejected
- [ ] Error messages are clear and helpful
- [ ] Original photo is preserved on error

---

### TC-6.1.8: Remove Profile Photo

**Steps:**
1. Log in as an employee with a profile photo
2. Navigate to profile
3. Click "Remove Photo" or similar option

**Expected Results:**
- [ ] Photo is removed
- [ ] Default avatar/placeholder is shown
- [ ] Confirmation prompt before removal
- [ ] Success message displayed

---

### TC-6.1.9: Change Password - Success

**Steps:**
1. Log in as an employee
2. Navigate to profile
3. Click "Change Password"
4. Enter current password correctly
5. Enter new password (meeting requirements)
6. Confirm new password
7. Click "Save" or "Change Password"

**Expected Results:**
- [ ] Password change form is accessible
- [ ] Current password is verified
- [ ] New password requirements are shown
- [ ] Password confirmation matches validation
- [ ] Password changes successfully
- [ ] Success message displayed
- [ ] Can log in with new password

---

### TC-6.1.10: Change Password - Wrong Current Password

**Steps:**
1. Log in as an employee
2. Navigate to change password
3. Enter INCORRECT current password
4. Enter valid new password
5. Confirm new password
6. Click "Save"

**Expected Results:**
- [ ] Form submission fails
- [ ] Error message indicates current password is wrong
- [ ] Password is NOT changed
- [ ] User remains logged in

---

### TC-6.1.11: Change Password - Weak New Password

**Steps:**
1. Log in as an employee
2. Navigate to change password
3. Enter correct current password
4. Enter weak new password (e.g., "123")
5. Attempt to save

**Expected Results:**
- [ ] Validation error is shown
- [ ] Password requirements are displayed
- [ ] Form does not submit
- [ ] Guidance on creating strong password

---

### TC-6.1.12: Change Password - Mismatched Confirmation

**Steps:**
1. Log in as an employee
2. Navigate to change password
3. Enter valid current password
4. Enter valid new password
5. Enter DIFFERENT confirmation password
6. Attempt to save

**Expected Results:**
- [ ] Validation error for mismatched passwords
- [ ] Clear error message
- [ ] Form does not submit
- [ ] User must correct the mismatch

---

### TC-6.1.13: View Current Availability Settings

**Steps:**
1. Log in as an employee with availability settings
2. Navigate to profile
3. View the availability section

**Expected Results:**
- [ ] Shows current availability settings
- [ ] Displays recurring availability (if set)
- [ ] Shows any date-specific exceptions
- [ ] Link to edit availability is available

---

### TC-6.1.14: Profile Form Validation

**Steps:**
1. Log in as an employee
2. Navigate to edit profile
3. Clear required fields (if any)
4. Enter invalid phone number format
5. Attempt to save

**Expected Results:**
- [ ] Validation errors are shown
- [ ] Invalid phone format is caught
- [ ] Required fields are enforced
- [ ] Error messages are helpful

---

### TC-6.1.15: Admin Cannot Edit Employee Profile

**Steps:**
1. Log in as an admin
2. Navigate to an employee's user page
3. Check available edit options

**Expected Results:**
- [ ] Admin can edit employee details through admin interface
- [ ] Admin sees different view than employee self-service
- [ ] Admin changes are reflected on employee profile
- [ ] Employee is notified of relevant changes (optional)

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test file upload with various image sizes and formats
- Verify password requirements match security policy
