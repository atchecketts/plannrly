# UAT: Feature 3.7 - Attendance Reports

## Test Environment Setup

**Prerequisites:**
- One admin user
- Multiple employees with varied attendance history
- Time entries spanning several weeks
- Mix of on-time, late, early, overtime, and missed shifts
- Multiple departments for filtering

**Test URL:** `/reports/attendance`

---

## Test Cases

### TC-3.7.1: Access Attendance Reports

**Steps:**
1. Log in as an admin
2. Navigate to Reports section
3. Select "Attendance Reports"

**Expected Results:**
- [ ] Reports page loads
- [ ] Multiple report types available
- [ ] Date range selector visible
- [ ] Filter options available

---

### TC-3.7.2: Punctuality Report Overview

**Steps:**
1. Log in as an admin
2. Navigate to Attendance Reports
3. Select "Punctuality Report"
4. View results

**Expected Results:**
- [ ] Shows on-time vs late arrivals
- [ ] Breakdown by employee
- [ ] Percentage calculation correct
- [ ] Visual chart/graph included

---

### TC-3.7.3: Punctuality by Department

**Steps:**
1. View punctuality report
2. Filter by specific department

**Expected Results:**
- [ ] Shows only selected department
- [ ] Department average displayed
- [ ] Employee breakdown within dept
- [ ] Compare across departments option

---

### TC-3.7.4: Hours Worked Report

**Steps:**
1. Log in as admin
2. Select "Hours Worked Report"
3. Set date range (last month)

**Expected Results:**
- [ ] Shows scheduled vs actual hours
- [ ] Per employee breakdown
- [ ] Total variance calculated
- [ ] Summary totals at bottom

---

### TC-3.7.5: Scheduled vs Actual Comparison

**Steps:**
1. View hours worked report
2. Examine a specific employee's data

**Expected Results:**
- [ ] Scheduled hours column
- [ ] Actual hours column
- [ ] Variance column (+/-)
- [ ] Percentage difference

---

### TC-3.7.6: Overtime Report

**Steps:**
1. Log in as admin
2. Select "Overtime Report"
3. View results

**Expected Results:**
- [ ] Shows employees with overtime
- [ ] Total overtime hours per person
- [ ] Overtime cost calculation
- [ ] Trend over time period

---

### TC-3.7.7: Overtime by Role

**Steps:**
1. View overtime report
2. Filter or group by business role

**Expected Results:**
- [ ] Shows overtime per role
- [ ] Identifies high-overtime roles
- [ ] Helps staffing decisions
- [ ] Role comparison chart

---

### TC-3.7.8: Absence Report

**Steps:**
1. Log in as admin
2. Select "Absence Report" or "No-Show Report"
3. View results

**Expected Results:**
- [ ] Shows missed shifts
- [ ] Lists employees and dates
- [ ] Absence rate calculated
- [ ] Pattern identification

---

### TC-3.7.9: Attendance Summary Dashboard

**Steps:**
1. Log in as admin
2. View main attendance report page

**Expected Results:**
- [ ] Overview metrics displayed
- [ ] Attendance rate (worked/scheduled)
- [ ] Punctuality rate
- [ ] Current period highlights

---

### TC-3.7.10: Filter by Date Range

**Steps:**
1. View any attendance report
2. Set custom date range
3. Apply filter

**Expected Results:**
- [ ] Date picker works correctly
- [ ] Data updates to match range
- [ ] Preset options (last week, month, quarter)
- [ ] Clear dates resets filter

---

### TC-3.7.11: Filter by Employee

**Steps:**
1. View attendance report
2. Select specific employee
3. Apply filter

**Expected Results:**
- [ ] Shows only selected employee
- [ ] Individual attendance history
- [ ] Personal trends visible
- [ ] Can compare to team average

---

### TC-3.7.12: Filter by Location

**Steps:**
1. View attendance report
2. Filter by specific location

**Expected Results:**
- [ ] Only location's data shown
- [ ] Location summary stats
- [ ] Employee list from location
- [ ] Works with date range filter

---

### TC-3.7.13: Export Report to CSV

**Steps:**
1. View any attendance report
2. Click "Export" or "Download CSV"
3. Open downloaded file

**Expected Results:**
- [ ] CSV file downloads
- [ ] Contains all visible data
- [ ] Columns properly labeled
- [ ] Data matches on-screen

---

### TC-3.7.14: Export Report to PDF

**Steps:**
1. View attendance report
2. Click "Export PDF" or "Print"
3. Check output

**Expected Results:**
- [ ] PDF generated or print view
- [ ] Formatted for readability
- [ ] Includes headers and date
- [ ] Charts included if applicable

---

### TC-3.7.15: Visualizations and Charts

**Steps:**
1. View attendance reports
2. Examine charts/graphs

**Expected Results:**
- [ ] Bar chart for attendance rate
- [ ] Trend line over time
- [ ] Pie chart for status breakdown
- [ ] Interactive tooltips

---

### TC-3.7.16: Calculate Attendance Rate

**Steps:**
1. View attendance summary
2. Verify attendance rate calculation

**Expected Results:**
- [ ] Rate = (shifts worked / shifts scheduled) x 100
- [ ] Excludes approved leave
- [ ] Percentage displayed
- [ ] Matches manual calculation

---

### TC-3.7.17: Employee Cannot Access Reports

**Steps:**
1. Log in as an employee
2. Try to navigate to `/reports/attendance`

**Expected Results:**
- [ ] Access denied (403)
- [ ] Reports not in employee menu
- [ ] Cannot see other employees' data

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Verify calculations against known data
