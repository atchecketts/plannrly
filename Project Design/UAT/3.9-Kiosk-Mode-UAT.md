# UAT: Feature 3.9 - Kiosk Mode

## Test Environment Setup

**Prerequisites:**
- One admin user
- Multiple employee users with PINs set
- Tablet or touchscreen device
- At least one location configured
- Shifts scheduled for today

**Test URLs:**
- Kiosk Management: `/kiosks`
- Kiosk Terminal: `/kiosk-terminal`

---

## Test Cases

### TC-3.9.1: Admin Creates Kiosk

**Steps:**
1. Log in as admin
2. Navigate to Kiosks management
3. Click "Add Kiosk"
4. Fill in:
   - Name: "Front Desk Kiosk"
   - Location: Select location
   - Enable PIN authentication
5. Save

**Expected Results:**
- [ ] Kiosk created successfully
- [ ] Access token generated
- [ ] Kiosk appears in list
- [ ] Token can be copied

---

### TC-3.9.2: View Kiosk List

**Steps:**
1. Log in as admin
2. Navigate to Kiosks

**Expected Results:**
- [ ] Shows all registered kiosks
- [ ] Each shows name and location
- [ ] Status visible (active/locked)
- [ ] Edit/Delete options available

---

### TC-3.9.3: Generate Kiosk Access Token

**Steps:**
1. Log in as admin
2. View kiosk details
3. Find or regenerate access token

**Expected Results:**
- [ ] Token is displayed
- [ ] "Copy" button works
- [ ] Token is long and secure
- [ ] Can regenerate if needed

---

### TC-3.9.4: Access Kiosk Terminal

**Steps:**
1. On kiosk device, navigate to kiosk terminal URL
2. Enter or have access token configured

**Expected Results:**
- [ ] Terminal loads
- [ ] Full-screen optimized view
- [ ] Current time displayed
- [ ] Clock In/Out buttons visible

---

### TC-3.9.5: Kiosk Idle Screen

**Steps:**
1. Access kiosk terminal
2. Do not interact
3. Observe idle state

**Expected Results:**
- [ ] Shows current time prominently
- [ ] Company logo visible
- [ ] "Tap to Start" or similar prompt
- [ ] Touch-friendly interface

---

### TC-3.9.6: Employee Sets PIN

**Steps:**
1. Log in as employee
2. Navigate to profile or settings
3. Set/update 4-6 digit PIN
4. Save

**Expected Results:**
- [ ] PIN entry field
- [ ] Confirmation required (enter twice)
- [ ] PIN saved securely (hashed)
- [ ] Success message shown

---

### TC-3.9.7: Clock In via PIN

**Steps:**
1. Access kiosk terminal
2. Tap "Clock In"
3. Enter employee PIN
4. Confirm

**Expected Results:**
- [ ] PIN keypad appears
- [ ] Numbers large and touch-friendly
- [ ] PIN verified successfully
- [ ] Employee clocked in
- [ ] Confirmation screen shown

---

### TC-3.9.8: Clock Out via PIN

**Steps:**
1. Access kiosk (employee already clocked in)
2. Tap "Clock Out"
3. Enter employee PIN

**Expected Results:**
- [ ] PIN verified
- [ ] Employee clocked out
- [ ] Shows total hours worked
- [ ] Returns to idle after timeout

---

### TC-3.9.9: Invalid PIN Entry

**Steps:**
1. Access kiosk terminal
2. Tap "Clock In"
3. Enter incorrect PIN

**Expected Results:**
- [ ] Error: "Invalid PIN"
- [ ] Can retry
- [ ] Shows remaining attempts
- [ ] Does not clock in

---

### TC-3.9.10: PIN Lockout After Failed Attempts

**Steps:**
1. Enter wrong PIN 5 times consecutively

**Expected Results:**
- [ ] Account temporarily locked
- [ ] Message: "Too many attempts, try again in 15 minutes"
- [ ] Lockout duration configurable
- [ ] Admin can unlock

---

### TC-3.9.11: Photo Capture on Clock-In (If Enabled)

**Steps:**
1. Configure kiosk to require photo
2. Employee clocks in
3. Camera activates

**Expected Results:**
- [ ] Camera permission requested (if needed)
- [ ] Preview shown before capture
- [ ] Photo captured on clock-in
- [ ] Photo saved with time entry

---

### TC-3.9.12: Session Timeout on Kiosk

**Steps:**
1. Complete clock-in on kiosk
2. View confirmation screen
3. Wait 30 seconds (or configured timeout)

**Expected Results:**
- [ ] Kiosk returns to idle screen
- [ ] No personal data exposed
- [ ] Ready for next employee
- [ ] Timeout configurable

---

### TC-3.9.13: Manager Override

**Steps:**
1. Employee has issue with clock-in
2. Manager enters override PIN
3. Adjusts time entry

**Expected Results:**
- [ ] Manager PIN required
- [ ] Override mode entered
- [ ] Can adjust clock times
- [ ] Audit log records override

---

### TC-3.9.14: Kiosk Activity Log

**Steps:**
1. Log in as admin
2. Navigate to kiosk details
3. View activity log

**Expected Results:**
- [ ] Shows all kiosk events
- [ ] Clock in/out entries
- [ ] Failed PIN attempts
- [ ] Manager overrides
- [ ] Timestamps for all

---

### TC-3.9.15: Remote Lock Kiosk

**Steps:**
1. Log in as admin
2. Navigate to kiosk management
3. Click "Lock" on a kiosk

**Expected Results:**
- [ ] Kiosk is locked remotely
- [ ] Terminal shows "Kiosk Locked"
- [ ] No clock actions possible
- [ ] Admin can unlock

---

### TC-3.9.16: Currently Clocked-In List

**Steps:**
1. Access kiosk terminal or admin view
2. View who is currently clocked in

**Expected Results:**
- [ ] Shows list of clocked-in employees
- [ ] Useful for on-site visibility
- [ ] Updates in real-time
- [ ] Scoped to kiosk location

---

### TC-3.9.17: QR Code Authentication (Optional)

**Steps:**
1. Configure kiosk for QR code auth
2. Employee opens QR from mobile app
3. Scans at kiosk

**Expected Results:**
- [ ] Kiosk scans QR code
- [ ] Employee identified
- [ ] Clock action processed
- [ ] Alternative to PIN entry

---

### TC-3.9.18: Touch-Optimized Interface

**Steps:**
1. Access kiosk on tablet
2. Navigate through all screens
3. Test button sizes and layout

**Expected Results:**
- [ ] All buttons large enough to tap
- [ ] No need for keyboard/mouse
- [ ] Scrolling minimal or none
- [ ] Works in landscape and portrait

---

### TC-3.9.19: Kiosk Offline Handling

**Steps:**
1. Access kiosk terminal
2. Disconnect network
3. Try to clock in

**Expected Results:**
- [ ] Graceful error handling
- [ ] "Network error" message
- [ ] May queue offline (if implemented)
- [ ] No data loss

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test on actual tablet devices
- Verify PIN security (not stored in plain text)
