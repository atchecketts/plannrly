# UAT: Feature 5.1 - Reports Dashboard

## Test Environment Setup

**Prerequisites:**
- One admin user with full access
- At least 5 employees with assigned shifts in the past 30 days
- Employees with different departments and locations
- Employees with hourly rates configured
- Approved leave requests for multiple employees
- Clock in/out records for schedule adherence testing

**Test URL:** `/reports`

---

## Test Cases

### TC-5.1.1: Access Reports Dashboard (Admin)

**Steps:**
1. Log in as an admin
2. Navigate to "Reports" in the sidebar

**Expected Results:**
- [ ] Reports dashboard loads successfully
- [ ] Shows available report categories
- [ ] Navigation to different report types is visible

---

### TC-5.1.2: Access Reports Dashboard (Employee - Denied)

**Steps:**
1. Log in as an employee without admin privileges
2. Attempt to navigate to `/reports`

**Expected Results:**
- [ ] Access is denied
- [ ] Appropriate error message or redirect occurs
- [ ] Employee cannot view organization-wide reports

---

### TC-5.1.3: Hours Worked Report - By Employee

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Hours Worked
3. Select "By Employee" grouping
4. Select a date range (last 7 days)
5. Click "Generate Report"

**Expected Results:**
- [ ] Report generates successfully
- [ ] Shows each employee's name
- [ ] Shows total hours worked per employee
- [ ] Hours are calculated correctly from shifts/clock records
- [ ] Totals match actual worked hours

---

### TC-5.1.4: Hours Worked Report - By Department

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Hours Worked
3. Select "By Department" grouping
4. Select a date range (last month)
5. Click "Generate Report"

**Expected Results:**
- [ ] Report shows hours grouped by department
- [ ] Department totals are displayed
- [ ] Shows breakdown of employees within each department
- [ ] Subtotals and grand totals are correct

---

### TC-5.1.5: Hours Worked Report - By Period

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Hours Worked
3. Select "By Period" grouping (weekly breakdown)
4. Select a date range (last month)
5. Click "Generate Report"

**Expected Results:**
- [ ] Report shows hours grouped by week
- [ ] Each week shows total hours
- [ ] Comparison between weeks is visible
- [ ] Date ranges for each period are clear

---

### TC-5.1.6: Labor Costs Report

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Labor Costs
3. Select a date range
4. Click "Generate Report"

**Expected Results:**
- [ ] Report shows labor cost calculations
- [ ] Uses correct hourly rates per employee
- [ ] Calculates total cost per employee (hours x rate)
- [ ] Shows department/location breakdowns
- [ ] Grand total is calculated correctly
- [ ] Currency is displayed correctly

---

### TC-5.1.7: Schedule Adherence Report

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Schedule Adherence
3. Select a date range with clock in/out data
4. Click "Generate Report"

**Expected Results:**
- [ ] Report compares scheduled vs actual hours
- [ ] Shows on-time percentage per employee
- [ ] Highlights late arrivals and early departures
- [ ] Shows no-shows or missed shifts
- [ ] Calculates adherence rate correctly

---

### TC-5.1.8: Leave Usage Report

**Steps:**
1. Log in as an admin
2. Navigate to Reports > Leave Usage
3. Select a date range
4. Click "Generate Report"

**Expected Results:**
- [ ] Report shows leave taken by employee
- [ ] Groups by leave type
- [ ] Shows days taken vs allowance
- [ ] Displays remaining balance
- [ ] Color-coded by leave type

---

### TC-5.1.9: Chart Visualizations

**Steps:**
1. Log in as an admin
2. Generate an Hours Worked report
3. View the chart section

**Expected Results:**
- [ ] Charts are displayed correctly
- [ ] Bar/line charts show data accurately
- [ ] Charts are responsive and resize with browser
- [ ] Legend is clear and helpful
- [ ] Tooltips show values on hover

---

### TC-5.1.10: Export Report to CSV

**Steps:**
1. Log in as an admin
2. Generate any report (e.g., Hours Worked)
3. Click "Export CSV" button

**Expected Results:**
- [ ] CSV file downloads successfully
- [ ] File contains all report data
- [ ] Headers are correct and descriptive
- [ ] Data matches what is shown on screen
- [ ] File opens correctly in spreadsheet software

---

### TC-5.1.11: Export Report to PDF

**Steps:**
1. Log in as an admin
2. Generate any report
3. Click "Export PDF" button

**Expected Results:**
- [ ] PDF file downloads successfully
- [ ] PDF is formatted correctly
- [ ] Contains report title and date range
- [ ] Data is readable and properly formatted
- [ ] Charts are included (if applicable)
- [ ] Company branding is present

---

### TC-5.1.12: Date Range Filters

**Steps:**
1. Log in as an admin
2. Navigate to any report
3. Test preset date ranges: "This Week", "Last Week", "This Month", "Last Month"
4. Test custom date range picker

**Expected Results:**
- [ ] Preset ranges calculate correct dates
- [ ] Custom date picker works correctly
- [ ] Cannot select end date before start date
- [ ] Report updates when date range changes

---

### TC-5.1.13: Department/Location Filters

**Steps:**
1. Log in as an admin
2. Navigate to Hours Worked report
3. Filter by specific department
4. Filter by specific location

**Expected Results:**
- [ ] Department filter shows only employees in that department
- [ ] Location filter shows only employees at that location
- [ ] Filters can be combined
- [ ] Clear filters button works correctly

---

### TC-5.1.14: Empty State Handling

**Steps:**
1. Log in as an admin
2. Generate a report for a date range with no data
3. View the results

**Expected Results:**
- [ ] Shows friendly "No data" message
- [ ] Does not show errors
- [ ] Suggests adjusting filters or date range
- [ ] Export buttons are disabled or hidden

---

### TC-5.1.15: Report Loading State

**Steps:**
1. Log in as an admin
2. Generate a report with a large date range
3. Observe the loading state

**Expected Results:**
- [ ] Loading indicator is shown while generating
- [ ] Generate button is disabled during loading
- [ ] Page remains responsive
- [ ] Report appears when ready

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Verify calculation accuracy with manual checks
- Test with different currencies if applicable
