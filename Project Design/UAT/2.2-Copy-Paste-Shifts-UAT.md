# UAT: Feature 2.2 - Copy and Paste Shifts

## Test Environment Setup

**Prerequisites:**
- One admin user
- Multiple employees with various shifts
- Published shifts across different days
- Access to schedule week and day views

**Test URLs:**
- Week View: `/schedule?view=week`
- Day View: `/schedule?view=day`

---

## Test Cases

### TC-2.2.1: Copy Single Shift via Context Menu

**Steps:**
1. Log in as an admin
2. Navigate to schedule week view
3. Right-click (or click menu) on a shift
4. Select "Copy" from the context menu

**Expected Results:**
- [ ] Context menu appears with Copy option
- [ ] Visual feedback indicates shift is copied
- [ ] Clipboard state shows copied shift
- [ ] No error messages

---

### TC-2.2.2: Paste Single Shift to Empty Cell

**Steps:**
1. Log in as an admin
2. Copy a shift (from TC-2.2.1)
3. Click on an empty cell for a different employee or day
4. Right-click or use paste button
5. Select "Paste" option

**Expected Results:**
- [ ] Paste option is available on empty cells
- [ ] New shift is created with same times and role
- [ ] New shift is assigned to the target employee
- [ ] New shift appears on the target day
- [ ] Success message is displayed

---

### TC-2.2.3: Paste Shift with Role Validation

**Steps:**
1. Log in as an admin
2. Copy a shift for role "Chef"
3. Try to paste it on an employee who only has role "Waiter"

**Expected Results:**
- [ ] Paste is prevented OR
- [ ] Warning message about role incompatibility
- [ ] Shift is NOT created for incompatible employee

---

### TC-2.2.4: Copy Entire Day's Shifts

**Steps:**
1. Log in as an admin
2. Navigate to week view
3. Find a day with multiple shifts
4. Right-click on the day header
5. Select "Copy Day"

**Expected Results:**
- [ ] "Copy Day" option is available
- [ ] All shifts for that day are copied to clipboard
- [ ] Visual feedback indicates day is copied
- [ ] Clipboard holds multiple shifts

---

### TC-2.2.5: Paste Entire Day's Shifts

**Steps:**
1. Log in as an admin
2. Copy a day's shifts (from TC-2.2.4)
3. Right-click on a different day header
4. Select "Paste Day"

**Expected Results:**
- [ ] All shifts are pasted to the target day
- [ ] Employee assignments are preserved where possible
- [ ] Role compatibility is validated
- [ ] Conflicts are reported/handled
- [ ] Success message shows count of pasted shifts

---

### TC-2.2.6: Copy Entire Week's Schedule

**Steps:**
1. Log in as an admin
2. Navigate to week view
3. Find option to copy entire week (toolbar or menu)
4. Select "Copy Week"

**Expected Results:**
- [ ] "Copy Week" option is accessible
- [ ] All shifts for the week are copied
- [ ] Visual feedback confirms copy
- [ ] Clipboard holds full week data

---

### TC-2.2.7: Paste Week to Different Week

**Steps:**
1. Log in as an admin
2. Copy an entire week (from TC-2.2.6)
3. Navigate to a different week
4. Select "Paste Week"

**Expected Results:**
- [ ] Confirmation dialog appears (week has many shifts)
- [ ] All shifts are recreated in the new week
- [ ] Employee assignments preserved
- [ ] Dates adjusted to match target week
- [ ] Summary of created shifts shown

---

### TC-2.2.8: Keyboard Shortcut Ctrl+C

**Steps:**
1. Log in as an admin
2. Navigate to schedule view
3. Select/click on a shift to focus it
4. Press Ctrl+C (or Cmd+C on Mac)

**Expected Results:**
- [ ] Keyboard shortcut copies the shift
- [ ] Same behavior as context menu copy
- [ ] Visual feedback indicates copy

---

### TC-2.2.9: Keyboard Shortcut Ctrl+V

**Steps:**
1. Log in as an admin
2. Copy a shift using any method
3. Click on an empty cell
4. Press Ctrl+V (or Cmd+V on Mac)

**Expected Results:**
- [ ] Keyboard shortcut pastes the shift
- [ ] Same behavior as context menu paste
- [ ] Shift is created at cursor location

---

### TC-2.2.10: Paste Detects Conflicts

**Steps:**
1. Log in as an admin
2. Copy a shift 09:00-17:00
3. Try to paste to a cell where employee already has shift 10:00-14:00

**Expected Results:**
- [ ] Conflict is detected before paste
- [ ] Warning message about overlapping times
- [ ] Option to cancel or override
- [ ] No duplicate shifts created unintentionally

---

### TC-2.2.11: Clipboard Persists Across Navigation

**Steps:**
1. Log in as an admin
2. Copy a shift on week view
3. Navigate to day view
4. Navigate back to week view (different week)
5. Try to paste

**Expected Results:**
- [ ] Clipboard content persists during session
- [ ] Can paste after navigation
- [ ] Clipboard clears on logout

---

### TC-2.2.12: Employee Cannot Copy/Paste

**Steps:**
1. Log in as an employee (non-admin)
2. Navigate to schedule view
3. Try to access copy function on any shift

**Expected Results:**
- [ ] Copy option is not available
- [ ] Keyboard shortcuts do not work for employees
- [ ] No unauthorized shift duplication

---

### TC-2.2.13: Copy Shift Preserves Details

**Steps:**
1. Log in as an admin
2. Create a shift with notes and break time
3. Copy and paste the shift

**Expected Results:**
- [ ] Pasted shift has same start/end times
- [ ] Pasted shift has same role
- [ ] Pasted shift has same break duration
- [ ] Notes are copied (or explicitly cleared)
- [ ] Only date and employee change

---

### TC-2.2.14: Cancel Paste Operation

**Steps:**
1. Log in as an admin
2. Copy a shift
3. Start paste operation
4. Press Escape or click Cancel

**Expected Results:**
- [ ] Paste operation is cancelled
- [ ] No shift is created
- [ ] Clipboard still contains copied shift

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test keyboard shortcuts on different operating systems
