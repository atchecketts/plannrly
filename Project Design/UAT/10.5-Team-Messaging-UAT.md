# UAT: Feature 10.5 - Team Messaging & Announcements (Premium)

## Test Environment Setup

**Prerequisites:**
- Admin user with premium subscription
- Multiple employee users
- Multiple locations/departments for scoped testing
- Email notifications configured

**Test URL:** `/messaging`, `/announcements`, `/messages`

---

## Test Cases

### TC-10.5.1: Feature Gate - Premium Required

**Steps:**
1. Log in as admin without premium subscription
2. Try to access messaging features

**Expected Results:**
- [ ] Access denied or upgrade prompt shown
- [ ] Feature marked as premium
- [ ] Basic notifications still work

---

### TC-10.5.2: View Announcements List

**Steps:**
1. Log in as admin with premium
2. Navigate to Announcements
3. View announcement list

**Expected Results:**
- [ ] Announcements list loads
- [ ] Shows recent announcements
- [ ] Indicates read/unread status
- [ ] "New Announcement" button visible (for admins)

---

### TC-10.5.3: Create Organization-Wide Announcement

**Steps:**
1. Click "New Announcement"
2. Fill in:
   - Title
   - Body content
   - Scope: Organization-wide
3. Publish announcement

**Expected Results:**
- [ ] Form accepts all input
- [ ] Can preview before publishing
- [ ] Announcement publishes successfully
- [ ] All employees can see it

---

### TC-10.5.4: Create Location-Scoped Announcement

**Steps:**
1. Create new announcement
2. Set scope to specific location
3. Publish

**Expected Results:**
- [ ] Can select location scope
- [ ] Only employees at that location see it
- [ ] Employees at other locations don't see it

---

### TC-10.5.5: Create Department-Scoped Announcement

**Steps:**
1. Create new announcement
2. Set scope to specific department
3. Publish

**Expected Results:**
- [ ] Can select department scope
- [ ] Only employees in department see it
- [ ] Scope correctly enforced

---

### TC-10.5.6: Require Acknowledgment

**Steps:**
1. Create announcement with "Require Acknowledgment" checked
2. Publish
3. View as employee
4. Acknowledge the announcement

**Expected Results:**
- [ ] Announcement shows acknowledgment requirement
- [ ] Employee must explicitly acknowledge
- [ ] Status updates to acknowledged
- [ ] Admin can see who has/hasn't acknowledged

---

### TC-10.5.7: Track Read Receipts

**Steps:**
1. Create announcement
2. Multiple employees view it
3. Admin checks read status

**Expected Results:**
- [ ] Read status tracked per employee
- [ ] Shows who has read
- [ ] Shows read timestamp
- [ ] Count of read vs total recipients

---

### TC-10.5.8: View Direct Messages Inbox

**Steps:**
1. Navigate to Direct Messages
2. View inbox

**Expected Results:**
- [ ] Inbox loads successfully
- [ ] Shows message threads
- [ ] Unread messages highlighted
- [ ] Most recent messages first

---

### TC-10.5.9: Send Direct Message

**Steps:**
1. Click "New Message"
2. Select recipient
3. Type message
4. Send

**Expected Results:**
- [ ] Can search/select recipient
- [ ] Message input works
- [ ] Message sends successfully
- [ ] Appears in sent/thread view

---

### TC-10.5.10: Receive and Reply to Message

**Steps:**
1. Send message as User A to User B
2. Log in as User B
3. View message
4. Reply

**Expected Results:**
- [ ] User B sees notification of new message
- [ ] Can view message content
- [ ] Reply appears in conversation thread
- [ ] Both users see full thread

---

### TC-10.5.11: Unread Counts in Navigation

**Steps:**
1. Have unread announcements/messages
2. Navigate through the app
3. Observe unread indicators

**Expected Results:**
- [ ] Unread count badge on messaging nav item
- [ ] Separate counts for announcements vs messages
- [ ] Count decreases when items read
- [ ] Badge disappears when all read

---

### TC-10.5.12: Search Messages

**Steps:**
1. Navigate to messages with multiple threads
2. Use search functionality
3. Search for specific content

**Expected Results:**
- [ ] Search input available
- [ ] Results match search query
- [ ] Shows relevant threads
- [ ] Can click to open thread

---

### TC-10.5.13: Email Notification for New Announcement

**Steps:**
1. Create important announcement
2. Check employee email

**Expected Results:**
- [ ] Email sent to employees in scope
- [ ] Email contains announcement title
- [ ] Link to view in app
- [ ] Respects notification preferences

---

### TC-10.5.14: Delete/Archive Announcement

**Steps:**
1. As admin, view announcement
2. Delete or archive it

**Expected Results:**
- [ ] Delete option available
- [ ] Confirmation required
- [ ] Announcement removed from active list
- [ ] May be archived for records

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test with various message lengths
- Verify message ordering and threading
