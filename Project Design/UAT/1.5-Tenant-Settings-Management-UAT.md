# UAT: Feature 1.5 - Tenant Settings Management

## Test Environment Setup

**Prerequisites:**
- One admin user
- One employee user
- Access to the settings page

**Test URL:** `/settings`

---

## Test Cases

### TC-1.5.1: View Settings Page (Admin)

**Steps:**
1. Log in as an admin
2. Navigate to "Settings" in the sidebar

**Expected Results:**
- [ ] Page loads successfully
- [ ] Shows organized sections:
  - Scheduling Options
  - Display Formats
  - Feature Toggles
  - Leave Management
  - Organization Preferences
- [ ] All fields show current/default values

---

### TC-1.5.2: Employee Cannot Access Settings

**Steps:**
1. Log in as an employee
2. Try to navigate to `/settings` directly

**Expected Results:**
- [ ] Access is denied (403 error)
- [ ] "Settings" link is not visible in sidebar

---

### TC-1.5.3: Update Scheduling Options

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Change:
   - Week Starts On: Sunday
   - Timezone: America/New_York
   - Day Starts At: 08:00
   - Day Ends At: 20:00
   - Missed Grace Period: 30
4. Click "Save Settings"

**Expected Results:**
- [ ] Settings are saved
- [ ] Success message shown
- [ ] Page reloads with new values
- [ ] Changes persist after logout/login

---

### TC-1.5.4: Update Display Formats

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Change:
   - Date Format: MM/DD/YYYY
   - Time Format: 12-hour (02:30 PM)
4. Click "Save Settings"

**Expected Results:**
- [ ] Settings are saved
- [ ] Date and time formats should update throughout the application
- [ ] Verify on dashboard/schedule that format changed

---

### TC-1.5.5: Toggle Feature Options

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Toggle each feature:
   - Enable Clock In/Out: ON
   - Require Shift Acknowledgement: ON
   - Notify on Schedule Publish: OFF
4. Click "Save Settings"

**Expected Results:**
- [ ] Checkboxes save correctly
- [ ] Features should be enabled/disabled accordingly
- [ ] Settings persist

---

### TC-1.5.6: Update Leave Carryover Mode

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Change Leave Carryover Policy to each option:
   - No Carryover
   - Partial Carryover
   - Full Carryover
4. Save after each change

**Expected Results:**
- [ ] Each option saves correctly
- [ ] Dropdown shows the saved value after reload

---

### TC-1.5.7: Update Currency

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Change Default Currency from GBP to USD
4. Click "Save Settings"

**Expected Results:**
- [ ] Currency setting is saved
- [ ] Should affect any currency displays in the system

---

### TC-1.5.8: Update Brand Color

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Use color picker to select a new brand color
4. Click "Save Settings"

**Expected Results:**
- [ ] Color is saved
- [ ] Color preview shows selected color
- [ ] (Future: brand color affects UI elements)

---

### TC-1.5.9: Validation - Invalid Timezone

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Using browser dev tools, try to submit an invalid timezone
4. Submit the form

**Expected Results:**
- [ ] Validation error for timezone
- [ ] Form does not save with invalid data

---

### TC-1.5.10: Validation - Invalid Color

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Using browser dev tools, change color input to "not-a-color"
4. Submit the form

**Expected Results:**
- [ ] Validation error for color
- [ ] Only valid hex colors (e.g., #FF5733) accepted

---

### TC-1.5.11: Validation - Invalid Carryover Mode

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Using browser dev tools, change carryover mode to "invalid"
4. Submit the form

**Expected Results:**
- [ ] Validation error
- [ ] Only none, partial, full are accepted

---

### TC-1.5.12: Settings Auto-Created for New Tenant

**Steps:**
1. Register a new organization (or create via admin)
2. Log in as that organization's admin
3. Navigate to Settings

**Expected Results:**
- [ ] Settings page loads with default values
- [ ] No errors about missing settings
- [ ] All defaults are sensible

---

### TC-1.5.13: Tenant Isolation

**Steps:**
1. Log in as Admin of Tenant A
2. Update settings (e.g., change timezone)
3. Log in as Admin of Tenant B
4. View settings

**Expected Results:**
- [ ] Tenant B has their own separate settings
- [ ] Changes by Tenant A do not affect Tenant B
- [ ] Each tenant can customize independently

---

### TC-1.5.14: All Timezone Options Work

**Steps:**
1. Log in as an admin
2. Navigate to Settings
3. Try selecting each timezone in the dropdown
4. Save with at least 3 different timezones

**Expected Results:**
- [ ] All timezones in dropdown are valid
- [ ] Each saves without error
- [ ] Timezone names are readable/recognizable

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
