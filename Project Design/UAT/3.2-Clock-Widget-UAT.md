# UAT: Feature 3.2 - Clock Widget Component

## Test Environment Setup

**Prerequisites:**
- One employee user with assigned shifts
- Published shift starting within the next hour
- Employee not currently clocked in
- Access to employee dashboard

**Test URL:** `/dashboard`

---

## Test Cases

### TC-3.2.1: Widget Displays on Employee Dashboard

**Steps:**
1. Log in as an employee
2. Navigate to dashboard
3. Locate the clock widget

**Expected Results:**
- [ ] Clock widget is visible
- [ ] Widget prominently displayed
- [ ] Current time shown
- [ ] Clock status clearly indicated

---

### TC-3.2.2: Widget Shows "Not Clocked In" Status

**Steps:**
1. Log in as an employee who is not clocked in
2. View clock widget

**Expected Results:**
- [ ] Status shows "Not Clocked In"
- [ ] Clock In button is visible
- [ ] Clock Out button is hidden/disabled
- [ ] No elapsed time shown

---

### TC-3.2.3: Widget Shows "Clocked In" Status

**Steps:**
1. Log in as an employee
2. Clock in
3. View clock widget

**Expected Results:**
- [ ] Status shows "Clocked In"
- [ ] Elapsed time displayed
- [ ] Clock Out button is visible
- [ ] Break button is visible
- [ ] Clock In button is hidden/disabled

---

### TC-3.2.4: Widget Shows Current Shift Info

**Steps:**
1. Log in as an employee with upcoming shift
2. View clock widget when near shift start

**Expected Results:**
- [ ] Shows current/upcoming shift details
- [ ] Shows shift start and end time
- [ ] Shows role for the shift
- [ ] Shows location/department

---

### TC-3.2.5: Real-Time Elapsed Time Counter

**Steps:**
1. Log in as an employee
2. Clock in
3. Watch elapsed time for 2 minutes

**Expected Results:**
- [ ] Elapsed time updates in real-time
- [ ] No page refresh required
- [ ] Shows hours:minutes:seconds format
- [ ] Counter is accurate

---

### TC-3.2.6: Clock In via Widget

**Steps:**
1. Log in as an employee
2. Click "Clock In" on widget
3. Confirm if prompted

**Expected Results:**
- [ ] AJAX request sent
- [ ] Loading indicator shown
- [ ] Widget updates to clocked-in state
- [ ] Success message displayed
- [ ] No full page reload

---

### TC-3.2.7: Clock Out via Widget

**Steps:**
1. Log in as employee who is clocked in
2. Click "Clock Out" on widget
3. Confirm if prompted

**Expected Results:**
- [ ] Confirmation dialog appears
- [ ] AJAX request sent on confirm
- [ ] Widget updates to clocked-out state
- [ ] Shows total time worked
- [ ] Success message displayed

---

### TC-3.2.8: Start Break via Widget

**Steps:**
1. Log in as employee who is clocked in
2. Click "Start Break" on widget

**Expected Results:**
- [ ] Widget shows "On Break" status
- [ ] Break timer starts
- [ ] Work timer pauses
- [ ] "End Break" button appears
- [ ] "Start Break" hidden/disabled

---

### TC-3.2.9: End Break via Widget

**Steps:**
1. Log in as employee on break
2. Click "End Break" on widget

**Expected Results:**
- [ ] Status returns to "Working"
- [ ] Work timer resumes
- [ ] Break duration recorded
- [ ] "Start Break" button returns

---

### TC-3.2.10: Widget Real-Time Clock Display

**Steps:**
1. Log in as an employee
2. Observe clock widget
3. Watch current time display

**Expected Results:**
- [ ] Current time displayed
- [ ] Time updates every second or minute
- [ ] Correct timezone shown
- [ ] AM/PM or 24-hour format per settings

---

### TC-3.2.11: Scheduled vs Current Time Comparison

**Steps:**
1. Log in as employee with shift 09:00-17:00
2. Clock in at 09:10
3. View widget

**Expected Results:**
- [ ] Shows scheduled start: 09:00
- [ ] Shows actual start: 09:10
- [ ] Variance indicated (10 min late)
- [ ] Visual indicator for late arrival

---

### TC-3.2.12: Widget Error Handling

**Steps:**
1. Log in as an employee
2. Disconnect network
3. Try to clock in via widget

**Expected Results:**
- [ ] Error message displayed
- [ ] Widget doesn't freeze
- [ ] Retry option available
- [ ] State remains consistent

---

### TC-3.2.13: Widget Confirmation Dialogs

**Steps:**
1. Log in as employee
2. Attempt to clock out
3. Observe confirmation dialog

**Expected Results:**
- [ ] Confirmation asked before clock out
- [ ] Shows time worked summary
- [ ] Cancel returns to widget
- [ ] Confirm processes action

---

### TC-3.2.14: Widget on Mobile Dashboard

**Steps:**
1. Log in as employee on mobile device
2. Navigate to dashboard
3. View clock widget

**Expected Results:**
- [ ] Widget responsive on mobile
- [ ] Buttons large enough to tap
- [ ] All functionality works
- [ ] No horizontal scroll issues

---

### TC-3.2.15: Widget Admin View

**Steps:**
1. Log in as admin
2. Navigate to admin dashboard
3. Check for clock widget

**Expected Results:**
- [ ] Admin may not see personal clock widget OR
- [ ] Admin sees widget for own clock status
- [ ] Admin dashboard has different focus

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test real-time updates by waiting and observing
