# UAT: Feature 5.2 - Employee Statistics

## Test Environment Setup

**Prerequisites:**
- One admin user with full access
- Multiple employees with varying shift histories
- Employees with shifts in current week, month, and year
- Employees with leave balances configured
- Clock in/out records for attendance tracking
- Employees with different attendance rates

**Test URL:** `/users/{id}` (Employee profile page)

---

## Test Cases

### TC-5.2.1: View Employee Statistics (Admin)

**Steps:**
1. Log in as an admin
2. Navigate to Users list
3. Click on an employee to view their profile

**Expected Results:**
- [ ] Employee profile page loads successfully
- [ ] Statistics section is visible
- [ ] Shows hours worked this week
- [ ] Shows hours worked this month
- [ ] Shows hours worked this year

---

### TC-5.2.2: View Own Statistics (Employee)

**Steps:**
1. Log in as an employee
2. Navigate to your own profile page

**Expected Results:**
- [ ] Profile page loads successfully
- [ ] Statistics section is visible
- [ ] Shows your personal hours worked
- [ ] Shows your leave balance
- [ ] Shows your attendance rate

---

### TC-5.2.3: Hours Worked This Week

**Steps:**
1. Log in as an admin
2. View an employee profile with shifts this week
3. Check the "Hours This Week" statistic

**Expected Results:**
- [ ] Hours are calculated from Monday to Sunday (current week)
- [ ] Only completed/worked shifts are counted
- [ ] Pending shifts are not included
- [ ] Value matches actual worked hours

---

### TC-5.2.4: Hours Worked This Month

**Steps:**
1. Log in as an admin
2. View an employee profile with shifts this month
3. Check the "Hours This Month" statistic

**Expected Results:**
- [ ] Hours are calculated for the current calendar month
- [ ] First day to last day of month is used
- [ ] Value is accurate based on shift records

---

### TC-5.2.5: Hours Worked This Year

**Steps:**
1. Log in as an admin
2. View an employee profile with shifts this year
3. Check the "Hours This Year" statistic

**Expected Results:**
- [ ] Hours are calculated from January 1st to today
- [ ] All completed shifts for the year are included
- [ ] Year-to-date total is displayed correctly

---

### TC-5.2.6: Leave Balance Display

**Steps:**
1. Log in as an admin
2. View an employee profile with leave allowances
3. Check the leave balance section

**Expected Results:**
- [ ] Shows each leave type the employee has allowance for
- [ ] Shows days taken vs total allowance
- [ ] Shows remaining balance
- [ ] Handles different leave types correctly
- [ ] Shows current year balance

---

### TC-5.2.7: Attendance Rate Calculation

**Steps:**
1. Log in as an admin
2. View an employee profile with clock in/out records
3. Check the "Attendance Rate" statistic

**Expected Results:**
- [ ] Shows percentage of shifts attended vs scheduled
- [ ] Calculates correctly (worked shifts / scheduled shifts x 100)
- [ ] Distinguishes between missed and attended shifts
- [ ] Shows rate for relevant time period

---

### TC-5.2.8: Shift History Section

**Steps:**
1. Log in as an admin
2. View an employee profile
3. Scroll to the shift history section

**Expected Results:**
- [ ] Shows list of past shifts
- [ ] Displays shift date, time, and role
- [ ] Shows department and location
- [ ] Orders by most recent first
- [ ] Pagination works if many shifts exist

---

### TC-5.2.9: Employee with No Statistics

**Steps:**
1. Log in as an admin
2. View a newly created employee with no shifts

**Expected Results:**
- [ ] Statistics section shows zeros or "No data"
- [ ] No errors are displayed
- [ ] Friendly message indicating new employee
- [ ] Leave balance shows full allowance

---

### TC-5.2.10: Statistics Visual Indicators

**Steps:**
1. Log in as an admin
2. View an employee profile with statistics
3. Observe the visual presentation

**Expected Results:**
- [ ] Statistics are displayed in clear card/panel format
- [ ] Numbers are prominently displayed
- [ ] Labels are clear and descriptive
- [ ] Color coding indicates status where appropriate

---

### TC-5.2.11: Target Hours Comparison

**Steps:**
1. Log in as an admin
2. View an employee with target hours configured
3. Check hours comparison

**Expected Results:**
- [ ] Shows actual hours vs target hours
- [ ] Progress indicator shows percentage of target
- [ ] Visual indication if under or over target
- [ ] Considers weekly/monthly targets

---

### TC-5.2.12: Statistics Date Range

**Steps:**
1. Log in as an admin
2. View employee statistics
3. Check that statistics reflect correct time periods

**Expected Results:**
- [ ] "This Week" uses current ISO week (Mon-Sun)
- [ ] "This Month" uses calendar month boundaries
- [ ] "This Year" uses current calendar year
- [ ] Timezone is handled correctly

---

### TC-5.2.13: Real-time Statistics Update

**Steps:**
1. Log in as an admin
2. View an employee profile
3. In another tab, clock out that employee from a shift
4. Refresh the profile page

**Expected Results:**
- [ ] Statistics update to reflect the new clock out
- [ ] Hours increase appropriately
- [ ] Attendance rate recalculates
- [ ] Changes are visible after refresh

---

### TC-5.2.14: Multiple Leave Type Balances

**Steps:**
1. Log in as an admin
2. View an employee with multiple leave type allowances
3. Check leave balance section

**Expected Results:**
- [ ] Each leave type is shown separately
- [ ] Annual leave balance is displayed
- [ ] Sick leave balance is displayed
- [ ] Other leave types show correctly
- [ ] Totals are accurate per type

---

### TC-5.2.15: Responsive Statistics Layout

**Steps:**
1. Log in as an admin
2. View employee profile on desktop
3. Resize to tablet and mobile sizes

**Expected Results:**
- [ ] Statistics cards stack appropriately on mobile
- [ ] All information remains visible
- [ ] Numbers are readable at all sizes
- [ ] No horizontal scrolling required

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Verify calculations manually with sample data
- Test with employees in different timezones if applicable
