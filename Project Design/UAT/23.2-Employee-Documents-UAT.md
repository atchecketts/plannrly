# UAT: Feature 23.2 - Employee Document Management

## Test Environment Setup

**Prerequisites:**
- Employee account for self-service uploads
- Manager account for verification workflow
- Admin account for document type configuration
- Test files (PDF, images) for upload testing
- Documents with various expiry dates

**Test URL:** `/employee/documents`, `/admin/document-types`

---

## Test Cases

### TC-23.2.1: View Employee Documents Index

**Steps:**
1. Log in as an employee
2. Navigate to My Documents

**Expected Results:**
- [ ] Documents page loads successfully
- [ ] Shows list of uploaded documents (or empty state)
- [ ] Upload button is visible
- [ ] Document categories/types displayed

---

### TC-23.2.2: Upload Document - Basic

**Steps:**
1. Log in as an employee
2. Navigate to My Documents
3. Click "Upload Document"
4. Select document type (e.g., ID, Certificate)
5. Choose a file
6. Click Upload

**Expected Results:**
- [ ] File upload succeeds
- [ ] Document appears in list
- [ ] Status shows "Pending Verification"
- [ ] File preview available

---

### TC-23.2.3: Upload Document - With Expiry Date

**Steps:**
1. Upload a document type that requires expiry
2. Enter expiry date
3. Complete upload

**Expected Results:**
- [ ] Expiry date field shown for applicable types
- [ ] Date picker works correctly
- [ ] Expiry date saved with document
- [ ] Displayed in document details

---

### TC-23.2.4: View Uploaded Document Details

**Steps:**
1. Click on an uploaded document
2. View document details

**Expected Results:**
- [ ] Document preview/thumbnail shown
- [ ] Upload date displayed
- [ ] Document type shown
- [ ] Verification status visible
- [ ] Expiry date (if applicable)

---

### TC-23.2.5: Delete Uploaded Document (Employee)

**Steps:**
1. Log in as employee
2. View an uploaded document
3. Click "Delete" (if allowed before verification)

**Expected Results:**
- [ ] Delete option available (or not based on rules)
- [ ] Confirmation required
- [ ] Document removed
- [ ] Cannot delete verified documents (if policy)

---

### TC-23.2.6: Manager Verification - View Pending Documents

**Steps:**
1. Log in as a manager
2. Navigate to Team Documents or Pending Verifications
3. View documents awaiting verification

**Expected Results:**
- [ ] List of pending documents shown
- [ ] Filtered to manageable employees
- [ ] Can see employee name and document type
- [ ] Document preview available

---

### TC-23.2.7: Manager Verification - Approve Document

**Steps:**
1. As manager, select a pending document
2. Review the document
3. Click "Approve" or "Verify"

**Expected Results:**
- [ ] Document status changes to "Verified"
- [ ] Verification timestamp recorded
- [ ] Verifier name recorded
- [ ] Employee notified (if configured)

---

### TC-23.2.8: Manager Verification - Reject Document

**Steps:**
1. As manager, select a pending document
2. Review the document
3. Click "Reject"
4. Enter rejection reason

**Expected Results:**
- [ ] Rejection reason required
- [ ] Document status changes to "Rejected"
- [ ] Employee notified with reason
- [ ] Employee can upload replacement

---

### TC-23.2.9: Document Expiry Tracking

**Steps:**
1. Upload documents with expiry dates
2. Wait for expiry date to approach (or set past date)
3. Check for expiry warnings

**Expected Results:**
- [ ] Expiring soon indicator shown
- [ ] Days until expiry displayed
- [ ] Expired documents marked clearly
- [ ] Visual distinction for status

---

### TC-23.2.10: Document Expiry Notification

**Steps:**
1. Document expiring within notification period (e.g., 30 days)
2. Check employee notifications/email

**Expected Results:**
- [ ] Notification sent to employee
- [ ] Specifies which document expiring
- [ ] Expiry date included
- [ ] Link to upload renewal

---

### TC-23.2.11: Admin - Configure Document Types

**Steps:**
1. Log in as admin
2. Navigate to Settings > Document Types
3. Create a new document type

**Expected Results:**
- [ ] Document types management page loads
- [ ] Can create new type with name
- [ ] Can set if expiry required
- [ ] Can set verification requirement

---

### TC-23.2.12: Admin - Edit Document Type

**Steps:**
1. As admin, view document types
2. Edit an existing type
3. Change settings
4. Save

**Expected Results:**
- [ ] Existing types editable
- [ ] Changes saved successfully
- [ ] Existing documents not affected adversely
- [ ] New settings apply to future uploads

---

### TC-23.2.13: Admin - Delete Document Type

**Steps:**
1. As admin, view document types
2. Delete a document type (with no documents)
3. Try to delete a type with existing documents

**Expected Results:**
- [ ] Empty type deletes successfully
- [ ] Type with documents shows warning
- [ ] Cannot delete or must reassign documents
- [ ] Data integrity preserved

---

### TC-23.2.14: File Type Restrictions

**Steps:**
1. Try to upload an allowed file type (PDF, JPG)
2. Try to upload a disallowed file type (EXE, etc.)

**Expected Results:**
- [ ] Allowed types upload successfully
- [ ] Disallowed types are rejected
- [ ] Clear error message for rejections
- [ ] Supported formats listed

---

### TC-23.2.15: File Size Limits

**Steps:**
1. Upload a file under size limit
2. Try to upload a file over size limit

**Expected Results:**
- [ ] Small files upload successfully
- [ ] Large files rejected with clear message
- [ ] Size limit clearly communicated
- [ ] No partial uploads or corruption

---

## Notes

- Record any bugs or issues found during testing
- Test with various file types (PDF, PNG, JPG)
- Verify document storage security
- Check that documents are only accessible to authorized users
