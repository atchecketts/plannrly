# UAT: Feature 13.2 - Subscription Reports

## Test Environment Setup

**Prerequisites:**
- SuperAdmin user account
- Multiple tenants with various subscription statuses (active, past_due, cancelled, trialing)
- Tenants on different subscription plans
- Some tenants currently in trial period
- Historical trial-to-paid conversion data

**Test URL:** `/super-admin/analytics/subscriptions`

---

## Test Cases

### TC-13.2.1: Access Subscription Reports (SuperAdmin)

**Steps:**
1. Log in as a SuperAdmin
2. Navigate to "Analytics" in the super-admin sidebar
3. Click on "Subscription Reports"

**Expected Results:**
- [ ] Page loads successfully
- [ ] Subscription metrics dashboard displays
- [ ] Key subscription counts are visible
- [ ] Charts and tables render correctly

---

### TC-13.2.2: Non-SuperAdmin Cannot Access

**Steps:**
1. Log in as a regular admin or employee
2. Try to navigate to `/super-admin/analytics/subscriptions` directly

**Expected Results:**
- [ ] Access is denied (403 error)
- [ ] No subscription data is exposed

---

### TC-13.2.3: Total Active Subscriptions Count

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the total active subscriptions metric

**Expected Results:**
- [ ] Total count is displayed prominently
- [ ] Count matches actual active subscriptions
- [ ] Only truly active subscriptions are counted
- [ ] Past due and cancelled are not included

---

### TC-13.2.4: Subscriptions by Plan Chart

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the "Subscriptions by Plan" breakdown

**Expected Results:**
- [ ] All subscription plans are listed
- [ ] Count for each plan is accurate
- [ ] Percentage breakdown is shown
- [ ] Chart visualization (pie/bar) displays correctly

---

### TC-13.2.5: Subscription Status Breakdown

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the status breakdown section

**Expected Results:**
- [ ] Active subscriptions count is shown
- [ ] Past due subscriptions count is shown
- [ ] Cancelled subscriptions count is shown
- [ ] Trialing subscriptions count is shown
- [ ] Status badges use appropriate colors

---

### TC-13.2.6: Trial Metrics Display

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the trial metrics section

**Expected Results:**
- [ ] Current trial count is displayed
- [ ] Shows tenants currently in trial period
- [ ] Trial end dates are visible if applicable
- [ ] Days remaining in trial shown

---

### TC-13.2.7: Trial Conversion Tracking

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the trial conversion metrics

**Expected Results:**
- [ ] Conversion count for current period shown
- [ ] Conversion rate percentage displayed
- [ ] Historical conversion trends visible
- [ ] Comparison to previous period available

---

### TC-13.2.8: Subscription List with Filters

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View the detailed subscription list
4. Apply status filter (e.g., "Past Due")
5. Apply plan filter
6. Clear filters

**Expected Results:**
- [ ] Full subscription list is displayed
- [ ] Status filter works correctly
- [ ] Plan filter works correctly
- [ ] Filters can be combined
- [ ] Clear filters button resets view

---

### TC-13.2.9: Subscription Search

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. Search for a specific tenant by name

**Expected Results:**
- [ ] Search box is available
- [ ] Search returns matching tenants
- [ ] Search is case-insensitive
- [ ] No results shows appropriate message

---

### TC-13.2.10: Past Due Subscriptions Alert

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. View past due subscriptions section

**Expected Results:**
- [ ] Past due subscriptions are highlighted
- [ ] Days overdue is shown
- [ ] Amount due is displayed
- [ ] Quick action to contact tenant available

---

### TC-13.2.11: Export Subscription Data

**Steps:**
1. Log in as SuperAdmin
2. Navigate to Subscription Reports
3. Click export/download button

**Expected Results:**
- [ ] Export option is available
- [ ] Data exports in expected format (CSV/Excel)
- [ ] All relevant fields are included
- [ ] Export respects current filters

---

### TC-13.2.12: Empty State Handling

**Steps:**
1. Log in as SuperAdmin on system with no subscriptions
2. Navigate to Subscription Reports

**Expected Results:**
- [ ] Page handles zero subscriptions gracefully
- [ ] Shows 0 for all counts
- [ ] Appropriate empty state message displayed
- [ ] No errors or crashes

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Verify all counts match when cross-referenced with tenant list
