# UAT: Feature 21.1 - Freemium Tier Implementation

## Test Environment Setup

**Prerequisites:**
- Fresh tenant account on free tier
- Admin user with billing access
- Existing paid tier account for comparison
- Test employees for limit testing

**Test URL:** `/settings/billing`, `/dashboard`

---

## Test Cases

### TC-21.1.1: New Tenant Starts on Free Tier

**Steps:**
1. Register a new tenant account
2. Complete registration without payment
3. Log in and check subscription status

**Expected Results:**
- [ ] New tenant is automatically on free tier
- [ ] No payment required to start
- [ ] Billing page shows "Free" plan
- [ ] Upgrade options are visible

---

### TC-21.1.2: Free Tier - Single Location Limit

**Steps:**
1. Log in as free tier admin
2. Create the first location
3. Attempt to create a second location

**Expected Results:**
- [ ] First location created successfully
- [ ] Second location attempt is blocked
- [ ] Clear message: "Free tier limited to 1 location"
- [ ] Upgrade prompt is shown

---

### TC-21.1.3: Free Tier - Employee Limit (5 Employees)

**Steps:**
1. Log in as free tier admin
2. Add 5 employees
3. Attempt to add a 6th employee

**Expected Results:**
- [ ] First 5 employees added successfully
- [ ] 6th employee attempt is blocked
- [ ] Message: "Free tier limited to 5 active employees"
- [ ] Upgrade prompt is shown

---

### TC-21.1.4: Free Tier - Basic Scheduling Only

**Steps:**
1. Log in as free tier admin
2. Navigate to Schedules
3. Create and publish a basic schedule

**Expected Results:**
- [ ] Basic schedule creation works
- [ ] Can create shifts and assign employees
- [ ] Publishing works normally
- [ ] Advanced features disabled (if any)

---

### TC-21.1.5: Free Tier - Time and Attendance Disabled

**Steps:**
1. Log in as free tier admin
2. Navigate to Time & Attendance section
3. Attempt to access clock in/out features

**Expected Results:**
- [ ] Time & Attendance is locked/disabled
- [ ] Clear message explaining this is a premium feature
- [ ] Upgrade CTA is displayed
- [ ] No workaround available

---

### TC-21.1.6: Free Tier - Reports Disabled

**Steps:**
1. Log in as free tier admin
2. Navigate to Reports section

**Expected Results:**
- [ ] Reports section is locked/disabled
- [ ] Preview of report types shown (but not accessible)
- [ ] Message: "Reports available on paid plans"
- [ ] Upgrade prompt displayed

---

### TC-21.1.7: Plannrly Branding on Free Tier Emails

**Steps:**
1. Trigger an email notification from a free tier account
2. Check the received email (shift notification, invite, etc.)

**Expected Results:**
- [ ] Email contains Plannrly branding
- [ ] "Powered by Plannrly" or similar footer
- [ ] Branding is tasteful but visible
- [ ] Link to Plannrly website included

---

### TC-21.1.8: Upgrade Prompts at Limit Points

**Steps:**
1. As free tier user, trigger various limit points:
   - Try to add 6th employee
   - Try to add 2nd location
   - Try to access reports
2. Observe upgrade prompts

**Expected Results:**
- [ ] Upgrade prompt shown at each limit
- [ ] Prompt explains what you get by upgrading
- [ ] Clear CTA to upgrade
- [ ] Not overly aggressive or annoying

---

### TC-21.1.9: Upgrade Path - Start Upgrade Flow

**Steps:**
1. Log in as free tier admin
2. Click on an upgrade prompt or navigate to Billing
3. Select a paid plan
4. View upgrade details

**Expected Results:**
- [ ] Plan comparison shown
- [ ] Pricing is clear
- [ ] Features difference highlighted
- [ ] Continue to payment option available

---

### TC-21.1.10: Upgrade Path - Complete Upgrade

**Steps:**
1. Start upgrade flow
2. Enter payment details (test card)
3. Complete upgrade

**Expected Results:**
- [ ] Payment processes successfully
- [ ] Account upgraded immediately
- [ ] All restrictions removed
- [ ] Confirmation email sent
- [ ] Can now add more locations/employees

---

### TC-21.1.11: Feature Access After Upgrade

**Steps:**
1. Complete upgrade from free to paid
2. Navigate to Time & Attendance
3. Navigate to Reports

**Expected Results:**
- [ ] Time & Attendance now accessible
- [ ] Reports now accessible
- [ ] All premium features unlocked
- [ ] No remaining restrictions

---

### TC-21.1.12: Downgrade to Free Tier Handling

**Steps:**
1. On a paid account with 10 employees and 3 locations
2. Attempt to downgrade to free tier

**Expected Results:**
- [ ] Warning about data/access loss
- [ ] Must deactivate employees to 5 or fewer
- [ ] Must reduce to 1 location
- [ ] Or downgrade blocked until within limits

---

### TC-21.1.13: Free Tier Dashboard Experience

**Steps:**
1. Log in as free tier admin
2. View the main dashboard

**Expected Results:**
- [ ] Dashboard shows basic metrics
- [ ] Upgrade banner/notice visible (not intrusive)
- [ ] Feature previews for premium features
- [ ] Overall experience is useful, not crippled

---

### TC-21.1.14: Employee Experience on Free Tier

**Steps:**
1. Log in as an employee on a free tier tenant
2. Navigate through the app

**Expected Results:**
- [ ] Employee can view their schedule
- [ ] Cannot access time clock (disabled)
- [ ] Experience is functional for basic scheduling
- [ ] No upgrade prompts shown to employees

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Verify limits are enforced consistently
- Test edge cases (e.g., deactivating and reactivating employees)
