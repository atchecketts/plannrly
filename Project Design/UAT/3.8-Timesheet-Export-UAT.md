# UAT: Feature 3.8 - Timesheet Export

## Test Environment Setup

**Prerequisites:**
- One admin user
- Multiple employees with completed time entries
- Time entries spanning at least two weeks
- Various statuses (approved, pending, adjusted)
- Break times recorded

**Test URL:** `/timesheets/export`

---

## Test Cases

### TC-3.8.1: Access Export Function

**Steps:**
1. Log in as an admin
2. Navigate to Timesheets
3. Find "Export" button or option

**Expected Results:**
- [ ] Export button visible
- [ ] Located in toolbar or actions
- [ ] Click opens export options

---

### TC-3.8.2: Export Options Modal

**Steps:**
1. Log in as admin
2. Click Export on timesheets
3. View export options

**Expected Results:**
- [ ] Modal/dialog appears
- [ ] Format selection (CSV, Excel, PDF)
- [ ] Date range selection
- [ ] Employee selection option

---

### TC-3.8.3: Export to CSV - Basic

**Steps:**
1. Log in as admin
2. Select date range (last week)
3. Choose CSV format
4. Click Export

**Expected Results:**
- [ ] CSV file downloads
- [ ] File name includes date range
- [ ] Opens in spreadsheet software
- [ ] Data is comma-separated

---

### TC-3.8.4: CSV Contains Required Fields

**Steps:**
1. Export CSV
2. Open file
3. Verify columns

**Expected Results:**
- [ ] Employee name column
- [ ] Date column
- [ ] Scheduled start/end
- [ ] Actual start/end
- [ ] Scheduled hours
- [ ] Actual hours
- [ ] Variance
- [ ] Break time
- [ ] Notes
- [ ] Status

---

### TC-3.8.5: Export to Excel (Formatted)

**Steps:**
1. Log in as admin
2. Select date range
3. Choose Excel format
4. Click Export

**Expected Results:**
- [ ] .xlsx file downloads
- [ ] Opens in Excel
- [ ] Headers are bold
- [ ] Columns auto-sized
- [ ] Data properly formatted

---

### TC-3.8.6: Excel Formulas and Totals

**Steps:**
1. Export to Excel
2. Open file
3. Check for totals row

**Expected Results:**
- [ ] Total hours row at bottom
- [ ] Formulas for calculations (optional)
- [ ] Summary statistics included
- [ ] Number formatting correct

---

### TC-3.8.7: Export to PDF

**Steps:**
1. Log in as admin
2. Select date range
3. Choose PDF format
4. Click Export

**Expected Results:**
- [ ] PDF file downloads
- [ ] Printable format
- [ ] Tables properly formatted
- [ ] Page breaks appropriate

---

### TC-3.8.8: PDF Includes Header Info

**Steps:**
1. Export PDF
2. Open file
3. Check header

**Expected Results:**
- [ ] Company name/logo
- [ ] Report title
- [ ] Date range shown
- [ ] Generation timestamp

---

### TC-3.8.9: Filter Export by Date Range

**Steps:**
1. Open export options
2. Set specific date range
3. Export

**Expected Results:**
- [ ] Only selected dates included
- [ ] Date picker functional
- [ ] Presets available (this week, last week)
- [ ] Custom range supported

---

### TC-3.8.10: Filter Export by Employee

**Steps:**
1. Open export options
2. Select specific employee(s)
3. Export

**Expected Results:**
- [ ] Only selected employees included
- [ ] Multi-select option
- [ ] "All Employees" default
- [ ] Export scoped correctly

---

### TC-3.8.11: Filter Export by Department

**Steps:**
1. Open export options
2. Select specific department
3. Export

**Expected Results:**
- [ ] Only department employees included
- [ ] Department name in file
- [ ] Totals for department
- [ ] Works with date filter

---

### TC-3.8.12: Export Pending Approval Only

**Steps:**
1. Open export options
2. Filter by status "Pending Approval"
3. Export

**Expected Results:**
- [ ] Only pending entries included
- [ ] Status column shows "Pending"
- [ ] Useful for approval review
- [ ] Count matches filter

---

### TC-3.8.13: Large Export Performance

**Steps:**
1. Select large date range (3 months)
2. Include all employees
3. Export

**Expected Results:**
- [ ] Export completes in reasonable time
- [ ] Loading indicator shown
- [ ] No timeout errors
- [ ] File is complete

---

### TC-3.8.14: Export Empty Dataset

**Steps:**
1. Set date range with no time entries
2. Export

**Expected Results:**
- [ ] Handles gracefully
- [ ] May show empty file with headers
- [ ] OR message "No data to export"
- [ ] No errors or crashes

---

### TC-3.8.15: Employee Cannot Export All

**Steps:**
1. Log in as an employee
2. Try to access timesheet export

**Expected Results:**
- [ ] Cannot export all employees
- [ ] May export own timesheet only
- [ ] Or export option hidden
- [ ] No access to others' data

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test with payroll software compatibility if applicable
