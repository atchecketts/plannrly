# UAT: Feature 9.1 - PWA Foundation

## Test Environment Setup

**Prerequisites:**
- Admin and employee user accounts
- Modern browser (Chrome, Edge, Safari)
- Mobile device (Android and/or iOS) for installation testing
- HTTPS enabled environment

**Test URL:** `/` (any authenticated page)

---

## Test Cases

### TC-9.1.1: Web App Manifest Present

**Steps:**
1. Open browser developer tools (F12)
2. Navigate to Application > Manifest tab
3. Verify manifest.json is loaded

**Expected Results:**
- [ ] Manifest.json loads without errors
- [ ] App name is "Plannrly"
- [ ] Short name is defined
- [ ] Start URL is set correctly
- [ ] Display mode is "standalone"
- [ ] Theme color is defined
- [ ] Background color is defined

---

### TC-9.1.2: PWA Icons Present

**Steps:**
1. Check Application > Manifest in browser dev tools
2. Review the icons section
3. Verify icon sizes

**Expected Results:**
- [ ] Icons are defined for multiple sizes (72, 96, 128, 144, 152, 192, 384, 512px)
- [ ] All icon URLs resolve correctly
- [ ] Icons are not broken/missing

---

### TC-9.1.3: Service Worker Registration

**Steps:**
1. Log in to the application
2. Open browser developer tools
3. Navigate to Application > Service Workers

**Expected Results:**
- [ ] Service worker is registered
- [ ] Status shows "activated and running"
- [ ] No registration errors in console

---

### TC-9.1.4: Install Prompt on Android

**Steps:**
1. Open Plannrly in Chrome on Android device
2. Log in to the application
3. Wait for install banner or click browser menu

**Expected Results:**
- [ ] "Add to Home Screen" or "Install App" option appears
- [ ] App name and icon display correctly in prompt
- [ ] Install prompt can be triggered from browser menu

---

### TC-9.1.5: Install to Home Screen (Android)

**Steps:**
1. Follow install prompt on Android
2. Complete installation
3. Open app from home screen

**Expected Results:**
- [ ] App icon appears on home screen
- [ ] Icon matches the defined PWA icon
- [ ] App opens in standalone mode (no browser UI)
- [ ] App launches to the start URL

---

### TC-9.1.6: Install to Home Screen (iOS)

**Steps:**
1. Open Plannrly in Safari on iOS device
2. Tap Share button
3. Select "Add to Home Screen"
4. Confirm installation

**Expected Results:**
- [ ] "Add to Home Screen" option is available
- [ ] App name pre-fills correctly
- [ ] Icon appears on home screen
- [ ] App opens without Safari UI bars

---

### TC-9.1.7: Apple-Specific Meta Tags

**Steps:**
1. View page source or inspect head element
2. Search for Apple-specific meta tags

**Expected Results:**
- [ ] apple-mobile-web-app-capable meta tag present
- [ ] apple-mobile-web-app-status-bar-style defined
- [ ] apple-touch-icon link present
- [ ] splash screens defined for various iOS screen sizes

---

### TC-9.1.8: Offline Fallback Page

**Steps:**
1. Install PWA on device
2. Enable airplane mode or disable network
3. Try to navigate to a new page

**Expected Results:**
- [ ] Offline fallback page displays
- [ ] Page shows clear "offline" message
- [ ] No browser error page shown
- [ ] Reconnect instructions provided

---

### TC-9.1.9: App Shortcuts

**Steps:**
1. Install PWA on Android
2. Long-press the app icon on home screen
3. View app shortcuts menu

**Expected Results:**
- [ ] "Clock In" shortcut appears
- [ ] "Schedule" shortcut appears
- [ ] "Leave Request" shortcut appears
- [ ] Shortcuts navigate to correct pages

---

### TC-9.1.10: Standalone Display Mode

**Steps:**
1. Launch installed PWA from home screen
2. Observe the display

**Expected Results:**
- [ ] No browser address bar visible
- [ ] No browser navigation controls
- [ ] Status bar color matches theme color
- [ ] App feels native, not like a website

---

### TC-9.1.11: Caching Strategy Works

**Steps:**
1. Visit several pages while online
2. Go offline (airplane mode)
3. Navigate to previously visited pages

**Expected Results:**
- [ ] Previously visited pages load from cache
- [ ] Static assets (CSS, JS, images) load from cache
- [ ] App shell displays even when offline

---

### TC-9.1.12: Theme Color in Browser

**Steps:**
1. Open Plannrly in Chrome mobile browser (not installed PWA)
2. Observe browser address bar color

**Expected Results:**
- [ ] Browser address bar uses defined theme color
- [ ] Color matches brand identity

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test on both Android and iOS devices for complete coverage
