# UAT: 1.7 Sortable & Groupable Table Headers

## Pre-requisites

- Logged in as Admin user
- Multiple records exist in each list (users, locations, departments, etc.)
- Mix of active/inactive records for grouping tests

---

## Test Cases

### TC-1.7.1: Basic Column Sorting

**Given:** I am on the Users list page (/users)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click on "Name" column header | URL changes to `?sort=name&direction=asc`, users sorted A-Z by first name |
| 2 | Click on "Name" column header again | URL changes to `?sort=name&direction=desc`, users sorted Z-A |
| 3 | Click on "Name" column header third time | Sort parameters removed from URL, back to default sort |
| 4 | Click on "Email" column header | URL shows `?sort=email&direction=asc`, sorted by email |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.2: Sort Icon Display

**Given:** I am on the Users list page (/users)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Hover over unsorted column header | Neutral double-chevron icon appears (light gray) |
| 2 | Click column to sort ascending | Up chevron (▲) appears in brand color |
| 3 | Click column to sort descending | Down chevron (▼) appears in brand color |
| 4 | Click column to remove sort | Icon reverts to hover-only neutral state |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.3: Grouping by Status

**Given:** I am on the Users list page with both active and inactive users

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click the group icon (bars) next to "Status" column | URL changes to `?group=status` |
| 2 | Observe the table | Section headers appear: "Active" and "Inactive" |
| 3 | Users are organized under their respective section headers | |
| 4 | Click the group icon again | Grouping removed, normal list view restored |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.4: Combined Sorting and Grouping

**Given:** I am on the Users list page

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click group icon on "Status" | Rows grouped by status |
| 2 | Click "Name" column header | URL shows `?sort=name&direction=asc&group=status` |
| 3 | Within each group, users are sorted by name A-Z | |
| 4 | Click "Name" again for descending | Within groups, users sorted Z-A |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.5: Sort Persists Through Pagination

**Given:** I am on the Users list page with more than 15 users

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Sort by "Email" descending | Sorted results displayed |
| 2 | Click "Next" page link in pagination | Page 2 loads, URL includes `sort=email&direction=desc&page=2` |
| 3 | Results on page 2 continue the sort order | Email addresses still in descending order |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.6: Non-Sortable Columns

**Given:** I am on the Users list page

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Observe "Role" column header | No sort icon or clickable link |
| 2 | Observe "Actions" column header | Shows "sr-only" screen reader text, no sort functionality |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.7: Locations - City Grouping

**Given:** I am on the Locations list page (/locations) with locations in different cities

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click group icon next to "City" column | Locations grouped by city |
| 2 | Section headers show city names | |
| 3 | Locations with blank city show "No City" group | |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.8: Business Roles - Hourly Rate Sorting

**Given:** I am on the Business Roles list page (/business-roles) with varied hourly rates

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click "Hourly Rate" column header ascending | Roles sorted lowest to highest rate |
| 2 | Click again for descending | Roles sorted highest to lowest rate |
| 3 | Roles without hourly rate appear at end (nulls) | |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.9: Leave Requests - Status Grouping

**Given:** I am on the Leave Requests list page (/leave-requests) with varied statuses

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click group icon on "Status" | Requests grouped by status |
| 2 | Section headers show status labels (Draft, Pending, Approved, Rejected) | |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.10: Leave Allowances - Right-Aligned Sorting

**Given:** I am on the Leave Allowances list page (/leave-allowances)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click "Total" column header | Sorted by total days |
| 2 | Sort icon appears on the left side of the text (right-aligned column) | |
| 3 | Click "Used" column header | Sorted by used days |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.11: Shift Swaps - Date Sorting

**Given:** I am on the Shift Swaps list page (/shift-swaps)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click "Requested" column header | Swaps sorted by creation date |
| 2 | Default is descending (newest first) | |
| 3 | Click again for ascending | Oldest swaps appear first |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.12: SuperAdmin Tenants Sorting

**Given:** I am logged in as SuperAdmin on the Tenants list page (/super-admin/tenants)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click "Organization" column header | Tenants sorted by name A-Z |
| 2 | Click "Users" column header | Tenants sorted by user count |
| 3 | Click "Created" column header | Tenants sorted by creation date |
| 4 | Click group icon on "Status" | Tenants grouped by Active/Inactive |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.13: SuperAdmin Users - Last Login Sorting

**Given:** I am logged in as SuperAdmin on the All Users list page (/super-admin/users)

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Click "Last Login" column header ascending | Users who never logged in (null) at top |
| 2 | Click again for descending | Most recently logged in users at top |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.14: Invalid Sort Parameter Handling

**Given:** I am on the Users list page

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Manually change URL to `?sort=invalid_column` | Page loads without error |
| 2 | Default sort applied (by name) | |
| 3 | Invalid sort parameter not reflected in sortParams | |

**Status:** ⬜ Pass / ⬜ Fail

---

### TC-1.7.15: Filters Combined with Sorting

**Given:** I am on the SuperAdmin Tenants page with search filter

| Step | Action | Expected Result |
|------|--------|-----------------|
| 1 | Enter search term in search box | Filtered results shown |
| 2 | Click "Organization" to sort | URL preserves both `search` and `sort` params |
| 3 | Results are filtered AND sorted | |

**Status:** ⬜ Pass / ⬜ Fail

---

## Summary

| Test Case | Description | Status |
|-----------|-------------|--------|
| TC-1.7.1 | Basic Column Sorting | ⬜ |
| TC-1.7.2 | Sort Icon Display | ⬜ |
| TC-1.7.3 | Grouping by Status | ⬜ |
| TC-1.7.4 | Combined Sorting and Grouping | ⬜ |
| TC-1.7.5 | Sort Persists Through Pagination | ⬜ |
| TC-1.7.6 | Non-Sortable Columns | ⬜ |
| TC-1.7.7 | Locations - City Grouping | ⬜ |
| TC-1.7.8 | Business Roles - Hourly Rate Sorting | ⬜ |
| TC-1.7.9 | Leave Requests - Status Grouping | ⬜ |
| TC-1.7.10 | Leave Allowances - Right-Aligned Sorting | ⬜ |
| TC-1.7.11 | Shift Swaps - Date Sorting | ⬜ |
| TC-1.7.12 | SuperAdmin Tenants Sorting | ⬜ |
| TC-1.7.13 | SuperAdmin Users - Last Login Sorting | ⬜ |
| TC-1.7.14 | Invalid Sort Parameter Handling | ⬜ |
| TC-1.7.15 | Filters Combined with Sorting | ⬜ |

---

*Document Version: 1.0*
*Last Updated: January 2026*
