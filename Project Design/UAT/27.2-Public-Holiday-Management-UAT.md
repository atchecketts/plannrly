# UAT: Feature 27.2 - Public Holiday Management

## Test Environment Setup

**Prerequisites:**
- Admin user with settings access
- Tenant configured with country/region
- Test employees with shifts
- Timesheet system configured
- Pay rate configuration available

**Test URL:** `/settings/holidays`

---

## Test Cases

### TC-27.2.1: View Holiday Settings Page

**Steps:**
1. Log in as admin
2. Navigate to Settings
3. Click on "Public Holidays" or similar

**Expected Results:**
- [ ] Holiday settings page loads
- [ ] Current country/region is displayed
- [ ] List of holidays is visible (if imported)
- [ ] Import options are available

---

### TC-27.2.2: Import Holidays by Country

**Steps:**
1. Navigate to holiday settings
2. Select country (e.g., "United Kingdom")
3. Select year (current year)
4. Click "Import Holidays"
5. Review imported holidays

**Expected Results:**
- [ ] Country selection dropdown works
- [ ] Year selection is available
- [ ] Holidays are fetched from API
- [ ] List of holidays is displayed for review
- [ ] Can confirm or cancel import

---

### TC-27.2.3: Import Holidays by Region

**Steps:**
1. Navigate to holiday settings
2. Select country with regional holidays (e.g., "United States")
3. Select state/region (e.g., "California")
4. Import holidays
5. Review regional holidays

**Expected Results:**
- [ ] Region selection appears after country
- [ ] Regional holidays are included
- [ ] Both national and regional holidays import
- [ ] Regional holidays are marked as such

---

### TC-27.2.4: View Imported Holidays List

**Steps:**
1. After importing holidays
2. View the holiday list

**Expected Results:**
- [ ] All holidays are listed
- [ ] Shows holiday name
- [ ] Shows date
- [ ] Shows if regional or national
- [ ] Sorted by date

---

### TC-27.2.5: Add Custom Holiday

**Steps:**
1. Navigate to holiday settings
2. Click "Add Custom Holiday"
3. Enter name: "Company Anniversary"
4. Enter date
5. Set as recurring annually (optional)
6. Save the holiday

**Expected Results:**
- [ ] Custom holiday form opens
- [ ] Can enter name and date
- [ ] Recurring option is available
- [ ] Holiday saves successfully
- [ ] Appears in holiday list

---

### TC-27.2.6: Edit Holiday

**Steps:**
1. Find a holiday in the list
2. Click Edit
3. Change the name or date
4. Save changes

**Expected Results:**
- [ ] Edit form opens with current values
- [ ] Can modify name and date
- [ ] Changes save successfully
- [ ] List updates with new values

---

### TC-27.2.7: Delete Holiday

**Steps:**
1. Find a custom holiday in the list
2. Click Delete
3. Confirm deletion

**Expected Results:**
- [ ] Confirmation dialog appears
- [ ] Holiday is removed from list
- [ ] Cannot delete system-imported holidays (or warning shown)

---

### TC-27.2.8: Holiday Display on Schedule Calendar

**Steps:**
1. Ensure holidays are imported
2. Navigate to the schedule calendar
3. Find a date that is a public holiday

**Expected Results:**
- [ ] Holiday is indicated on the calendar
- [ ] Different color or banner for holiday
- [ ] Holiday name is visible
- [ ] Shifts on holiday are still visible

---

### TC-27.2.9: Holiday Pay Multiplier Configuration

**Steps:**
1. Navigate to holiday settings
2. Find holiday pay rate settings
3. Set default multiplier: 1.5x (time and a half)
4. Set specific holiday multiplier: 2x for Christmas
5. Save settings

**Expected Results:**
- [ ] Default multiplier can be set
- [ ] Individual holidays can have custom rates
- [ ] Settings save successfully
- [ ] Multipliers display correctly

---

### TC-27.2.10: Holiday Pay in Timesheets

**Steps:**
1. Create a shift on a public holiday
2. Employee clocks in and out
3. View the timesheet
4. Check calculated pay

**Expected Results:**
- [ ] Timesheet shows holiday indicator
- [ ] Hours are recorded normally
- [ ] Pay rate uses holiday multiplier
- [ ] Calculation is correct (hours x rate x multiplier)
- [ ] Holiday premium is itemized

---

### TC-27.2.11: Holiday Work Preference - Employee Submission

**Steps:**
1. Log in as employee
2. Navigate to availability or preferences
3. Find holiday work preference section
4. Select "Willing to work" for Christmas
5. Select "Not willing" for New Year
6. Save preferences

**Expected Results:**
- [ ] Holiday preference form is accessible
- [ ] Upcoming holidays are listed
- [ ] Can set preference for each
- [ ] Preferences save successfully
- [ ] Confirmation message shown

---

### TC-27.2.12: Holiday Work Preference - Admin View

**Steps:**
1. Log in as admin
2. Navigate to employee management or holiday preferences
3. View who is willing to work on a specific holiday

**Expected Results:**
- [ ] Can see all employee preferences by holiday
- [ ] Shows "Willing", "Not willing", "No preference"
- [ ] Can filter or sort by preference
- [ ] Helpful for holiday scheduling

---

### TC-27.2.13: Warning When Scheduling on Holiday

**Steps:**
1. Log in as admin
2. Create a new shift on a public holiday date
3. Observe any warnings

**Expected Results:**
- [ ] Warning indicates the date is a holiday
- [ ] Shows holiday name
- [ ] Can still create the shift
- [ ] Holiday pay rate is mentioned

---

### TC-27.2.14: Employee Sees Holiday on Schedule

**Steps:**
1. Log in as employee
2. Navigate to schedule
3. View a week containing a public holiday

**Expected Results:**
- [ ] Holiday is clearly marked
- [ ] Holiday name is visible
- [ ] If assigned to work, shift shows holiday indicator
- [ ] Employee aware of holiday pay implications

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test with different countries and their specific holidays
- Verify timezone handling for holiday dates
