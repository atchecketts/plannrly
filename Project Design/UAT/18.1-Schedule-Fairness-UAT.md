# UAT: Feature 18.1 - Schedule Fairness Analytics

## Test Environment Setup

**Prerequisites:**
- Admin accounts
- Multiple employees with shift history (3+ months)
- Varied shift assignments (weekends, holidays, etc.)
- Employee preferences configured (if available)

**Test URLs:**
- Fairness Dashboard: `/analytics/fairness`
- API Endpoint: `/api/analytics/fairness`

---

## Test Cases

### TC-18.1.1: Fairness Dashboard Loads

**Steps:**
1. Log in as admin
2. Navigate to Analytics > Fairness

**Expected Results:**
- [ ] Dashboard loads without errors
- [ ] Team fairness overview displayed
- [ ] Charts/visualizations render
- [ ] Date range selector available

---

### TC-18.1.2: Weekend Balance Calculation

**Steps:**
1. View fairness dashboard
2. Check weekend distribution metric

**Expected Results:**
- [ ] Weekend balance score shown (0-100)
- [ ] Shows distribution across employees
- [ ] Higher score = more equal distribution
- [ ] Breakdown by employee available

---

### TC-18.1.3: Weekend Imbalance Detection

**Steps:**
1. Have schedule where one employee has 8 weekends, others have 2
2. View fairness dashboard

**Expected Results:**
- [ ] Low weekend balance score
- [ ] Identifies over-scheduled employee
- [ ] Identifies under-scheduled employees
- [ ] Suggests rebalancing

---

### TC-18.1.4: Holiday Balance Calculation

**Steps:**
1. View fairness dashboard
2. Check holiday distribution metric

**Expected Results:**
- [ ] Holiday balance score shown
- [ ] Accounts for public holiday shifts
- [ ] Fair distribution identified
- [ ] Imbalances highlighted

---

### TC-18.1.5: Preference Satisfaction Score

**Steps:**
1. Have employees with shift preferences
2. View fairness dashboard
3. Check preference satisfaction

**Expected Results:**
- [ ] Preference satisfaction score shown
- [ ] Per-employee satisfaction visible
- [ ] Shows how well preferences are met
- [ ] Highlights employees with low satisfaction

---

### TC-18.1.6: Hours Variance Calculation

**Steps:**
1. View fairness dashboard
2. Check hours variance metric

**Expected Results:**
- [ ] Shows variance from target hours
- [ ] Per-employee hours shown
- [ ] Identifies under/over-scheduled
- [ ] Target hours referenced

---

### TC-18.1.7: Short Notice Change Impact

**Steps:**
1. Make last-minute schedule changes for some employees
2. View fairness dashboard

**Expected Results:**
- [ ] Short notice metric calculated
- [ ] Identifies frequently impacted employees
- [ ] Counts changes within X days of shift
- [ ] Helps identify unfair patterns

---

### TC-18.1.8: Per-Employee Fairness Score

**Steps:**
1. Click on individual employee
2. View their fairness breakdown

**Expected Results:**
- [ ] Overall fairness score shown
- [ ] Breakdown by component (weekend, holiday, etc.)
- [ ] Historical comparison available
- [ ] Score out of 100

---

### TC-18.1.9: Team Fairness Overview

**Steps:**
1. View team-level fairness metrics

**Expected Results:**
- [ ] Team average fairness score
- [ ] Distribution of scores across team
- [ ] Identifies outliers
- [ ] Overall trend indicator

---

### TC-18.1.10: Fairness Trend Over Time

**Steps:**
1. View fairness dashboard
2. Look at trend chart
3. Change date range

**Expected Results:**
- [ ] Trend chart displays
- [ ] Shows fairness over weeks/months
- [ ] Improving/declining trend visible
- [ ] Date range filtering works

---

### TC-18.1.11: Unfairness Warning in Schedule View

**Steps:**
1. Navigate to schedule view
2. Assign weekend shift to already over-scheduled employee

**Expected Results:**
- [ ] Warning about fairness impact
- [ ] Shows current distribution
- [ ] Suggests alternative employees
- [ ] Can proceed if needed

---

### TC-18.1.12: Fairness Report Export

**Steps:**
1. Navigate to fairness dashboard
2. Click export/download report

**Expected Results:**
- [ ] Report downloads (PDF/CSV)
- [ ] Contains all metrics
- [ ] Per-employee breakdown
- [ ] Date range noted

---

### TC-18.1.13: Filter by Department/Role

**Steps:**
1. View fairness dashboard
2. Filter by department or role

**Expected Results:**
- [ ] Filter options available
- [ ] Results update for selected group
- [ ] Comparisons within group
- [ ] Can clear filter

---

### TC-18.1.14: Employee Cannot Access Fairness Analytics

**Steps:**
1. Log in as regular employee
2. Try to access fairness dashboard

**Expected Results:**
- [ ] Access denied
- [ ] Redirected or 403 error
- [ ] Admin-only feature

---

### TC-18.1.15: Weighted Score Calculation

**Steps:**
1. View employee with known metrics
2. Verify overall score calculation

**Expected Results:**
- [ ] Score matches weighted average formula
- [ ] Weekend: 25%
- [ ] Holiday: 20%
- [ ] Preferences: 25%
- [ ] Hours: 20%
- [ ] Short notice: 10%

---

## Notes

- Test with at least 6 months of schedule data for patterns
- Verify calculations match documented formulas
- Test with edge cases (new employees, part-time)
- Check that score ranges make sense (0-100)
- Fairness should improve as balancing occurs over time
- Consider seasonality in analysis
