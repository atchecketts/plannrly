# UAT: Feature 29.1 - Employee Invitation & Onboarding

## Test Environment Setup

**Prerequisites:**
- Admin user with employee management permissions
- Valid email addresses for test invitations
- Onboarding checklist configured
- Department and role data set up
- Email delivery configured (or mail trap for testing)

**Test URL:** `/employees/invitations`, `/onboarding`

---

## Test Cases

### TC-29.1.1: Access Invitation Management

**Steps:**
1. Log in as admin
2. Navigate to Employees section
3. Find "Invitations" or "Invite Employee" option

**Expected Results:**
- [ ] Invitation management is accessible
- [ ] Shows list of pending invitations
- [ ] "Send New Invitation" button visible
- [ ] Can see invitation status

---

### TC-29.1.2: Send Single Invitation

**Steps:**
1. Click "Send New Invitation"
2. Enter employee email: test@example.com
3. Enter employee name
4. Select department and role
5. Click "Send Invitation"

**Expected Results:**
- [ ] Invitation form loads
- [ ] All required fields available
- [ ] Invitation sends successfully
- [ ] Success message displayed
- [ ] Invitation appears in pending list

---

### TC-29.1.3: Invitation Email Content

**Steps:**
1. Send an invitation
2. Check the recipient's email inbox
3. Review the invitation email

**Expected Results:**
- [ ] Email is received
- [ ] Email contains company/tenant name
- [ ] Email contains accept link
- [ ] Instructions are clear
- [ ] Email looks professional

---

### TC-29.1.4: Bulk Import via CSV

**Steps:**
1. Navigate to invitation section
2. Find "Bulk Import" or "Import CSV" option
3. Download CSV template
4. Fill template with 5 employees
5. Upload completed CSV
6. Review and confirm import

**Expected Results:**
- [ ] CSV template is downloadable
- [ ] Template has required columns
- [ ] Upload accepts CSV file
- [ ] Preview shows imported data
- [ ] Can confirm or cancel import
- [ ] Invitations sent to all entries

---

### TC-29.1.5: CSV Validation Errors

**Steps:**
1. Create CSV with invalid data (duplicate email, missing fields)
2. Try to import the CSV
3. Review error handling

**Expected Results:**
- [ ] Validation errors are displayed
- [ ] Shows which rows have errors
- [ ] Explains what is wrong
- [ ] Valid rows can still be imported
- [ ] Or entire file can be corrected

---

### TC-29.1.6: Accept Invitation - Create Account

**Steps:**
1. Click invitation link from email
2. Land on invitation acceptance page
3. Create password
4. Complete any required profile fields
5. Submit registration

**Expected Results:**
- [ ] Invitation page loads correctly
- [ ] Shows inviting company name
- [ ] Password field available
- [ ] Profile fields are clear
- [ ] Account creates successfully
- [ ] Redirected to application

---

### TC-29.1.7: Invalid/Expired Invitation Link

**Steps:**
1. Use an old/expired invitation link
2. Use a manually altered link
3. Observe the result

**Expected Results:**
- [ ] Expired link shows clear message
- [ ] Invalid link shows error
- [ ] No account created with invalid link
- [ ] Provides contact information

---

### TC-29.1.8: Resend Invitation

**Steps:**
1. Navigate to pending invitations
2. Find a pending invitation
3. Click "Resend"
4. Confirm resend

**Expected Results:**
- [ ] Resend option is available
- [ ] New email is sent
- [ ] Previous token may be invalidated
- [ ] Success message shown
- [ ] Resend count tracked

---

### TC-29.1.9: Cancel Invitation

**Steps:**
1. Navigate to pending invitations
2. Find a pending invitation
3. Click "Cancel"
4. Confirm cancellation

**Expected Results:**
- [ ] Cancel option is available
- [ ] Confirmation required
- [ ] Invitation is cancelled
- [ ] Link no longer works
- [ ] Removed from pending list

---

### TC-29.1.10: View Onboarding Progress

**Steps:**
1. Log in as newly onboarded employee
2. Navigate to onboarding section or dashboard
3. View onboarding checklist

**Expected Results:**
- [ ] Onboarding checklist is visible
- [ ] Shows steps to complete
- [ ] Progress indicator visible
- [ ] Completed steps are checked
- [ ] Next step is highlighted

---

### TC-29.1.11: Complete Onboarding Task

**Steps:**
1. View onboarding checklist
2. Find an incomplete task (e.g., "Upload profile photo")
3. Complete the task
4. Mark as complete or auto-complete

**Expected Results:**
- [ ] Task instructions are clear
- [ ] Can complete the task
- [ ] Task marked as complete
- [ ] Progress bar updates
- [ ] Next task becomes active

---

### TC-29.1.12: Admin View of Employee Onboarding

**Steps:**
1. Log in as admin
2. Navigate to employee list
3. Find newly invited employee
4. View their onboarding status

**Expected Results:**
- [ ] Can see onboarding progress
- [ ] Shows percentage complete
- [ ] Shows incomplete tasks
- [ ] Can remind employee
- [ ] Can mark tasks complete manually

---

### TC-29.1.13: Configure Onboarding Steps

**Steps:**
1. Log in as admin
2. Navigate to onboarding configuration
3. Add a new onboarding step
4. Edit existing step
5. Reorder steps
6. Save configuration

**Expected Results:**
- [ ] Onboarding configuration accessible
- [ ] Can add custom steps
- [ ] Can edit step descriptions
- [ ] Can reorder steps
- [ ] Changes apply to new employees

---

### TC-29.1.14: Onboarding Completion

**Steps:**
1. Complete all onboarding tasks
2. View the completion state

**Expected Results:**
- [ ] All tasks show as complete
- [ ] Congratulations message displayed
- [ ] Onboarding section may hide/minimize
- [ ] Employee has full access
- [ ] Admin notified of completion

---

### TC-29.1.15: Duplicate Email Prevention

**Steps:**
1. Try to invite an email that already exists
2. Try to invite an email with pending invitation

**Expected Results:**
- [ ] Error for existing user email
- [ ] Error for pending invitation
- [ ] Clear error messages
- [ ] Suggests alternatives (resend, etc.)

---

## Notes

- Record any bugs or issues found during testing
- Note the browser and device used for testing
- Screenshot any unexpected behavior
- Test invitation links in different browsers
- Test with various email providers
